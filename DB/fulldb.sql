-- MySQL dump 10.13  Distrib 5.7.20, for Win64 (x86_64)
--
-- Host: localhost    Database: mud
-- ------------------------------------------------------
-- Server version	5.7.20

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `areas`
--

DROP TABLE IF EXISTS `areas`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `areas` (
  `id` int(11) NOT NULL,
  `name` varchar(45) NOT NULL,
  `pvp` int(11) NOT NULL,
  `death_room` int(11) NOT NULL,
  `level_range_low` int(11) NOT NULL,
  `level_range_high` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `areas`
--

LOCK TABLES `areas` WRITE;
/*!40000 ALTER TABLE `areas` DISABLE KEYS */;
INSERT INTO `areas` VALUES (1,'Northshire',0,121,1,240),(2,'Elwynn Forest',0,0,1,240),(3,'Blackrock Depths',3,123,230,240);
/*!40000 ALTER TABLE `areas` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `class_skills`
--

DROP TABLE IF EXISTS `class_skills`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `class_skills` (
  `class` int(11) NOT NULL,
  `skill` int(11) NOT NULL,
  `level` int(11) DEFAULT NULL,
  PRIMARY KEY (`skill`,`class`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `class_skills`
--

LOCK TABLES `class_skills` WRITE;
/*!40000 ALTER TABLE `class_skills` DISABLE KEYS */;
INSERT INTO `class_skills` VALUES (1,1,1),(2,1,1),(3,1,1),(4,1,1),(3,2,1),(4,3,1),(3,4,60),(4,5,2),(1,6,50),(4,7,120),(2,9,90),(3,12,1),(4,13,60),(3,14,1),(3,15,1),(1,16,1),(1,17,1),(1,20,1),(2,21,1),(2,22,2),(2,23,1),(4,26,1),(4,28,225),(4,29,75),(2,33,5),(1,34,2),(1,35,5),(1,40,1),(2,41,1),(3,42,1),(1,43,1),(4,44,90),(1,45,1),(1,46,1),(2,47,1),(4,48,235),(4,49,240),(4,50,230),(1,55,1),(2,56,1),(3,57,1);
/*!40000 ALTER TABLE `class_skills` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `classes`
--

DROP TABLE IF EXISTS `classes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `classes` (
  `id` int(11) NOT NULL,
  `name` varchar(12) DEFAULT NULL,
  `color` varchar(5) DEFAULT NULL,
  `items` tinytext,
  `armor` tinytext,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `classes`
--

LOCK TABLES `classes` WRITE;
/*!40000 ALTER TABLE `classes` DISABLE KEYS */;
INSERT INTO `classes` VALUES (1,'Warrior','|M','3,1;4,1;5,1;6,1;19,10;18,10;','0,1;1,60;2,120;3,180;'),(2,'Rogue','|Y','11,1;12,1;13,1;14,1;19,10;18,10;','0,1;1,120;'),(3,'Mage','|C','7,1;8,1;9,1;10,1;19,10;18,10;','0,1;'),(4,'Cleric','|W','15,1;16,1;17,1;10,1;19,10;18,10;','0,1;');
/*!40000 ALTER TABLE `classes` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `exits`
--

DROP TABLE IF EXISTS `exits`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `exits` (
  `from` int(11) NOT NULL,
  `direction` int(11) NOT NULL,
  `to` int(11) DEFAULT NULL,
  PRIMARY KEY (`from`,`direction`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `exits`
--

LOCK TABLES `exits` WRITE;
/*!40000 ALTER TABLE `exits` DISABLE KEYS */;
INSERT INTO `exits` VALUES (2,0,3),(2,2,8),(2,4,9),(2,6,4),(3,1,11),(3,4,2),(3,7,10),(4,0,122),(4,2,2),(4,4,18),(4,6,5),(5,0,6),(5,2,4),(5,4,24),(5,6,7),(6,0,34),(6,2,122),(6,4,5),(6,6,32),(7,0,32),(7,2,5),(7,4,25),(7,6,31),(8,0,121),(8,2,81),(8,4,64),(8,6,2),(9,0,2),(9,2,64),(9,4,19),(9,6,18),(10,0,13),(10,2,12),(10,3,3),(11,0,14),(11,5,3),(11,6,12),(12,0,15),(12,2,11),(12,6,10),(13,4,10),(14,4,11),(15,4,12),(15,8,16),(16,8,17),(16,9,15),(17,9,16),(18,0,4),(18,2,9),(18,4,26),(18,6,24),(19,0,9),(19,2,65),(19,4,20),(19,6,26),(20,0,19),(20,3,21),(20,5,22),(21,5,23),(21,7,20),(22,1,20),(22,3,23),(23,1,21),(23,7,22),(24,0,5),(24,2,18),(24,4,27),(24,6,25),(25,0,7),(25,2,24),(25,4,28),(25,6,29),(26,0,18),(26,2,19),(26,6,27),(27,0,24),(27,2,26),(27,6,28),(28,0,25),(28,2,27),(28,6,30),(29,0,31),(29,2,25),(29,4,30),(30,0,29),(30,2,28),(31,0,33),(31,2,7),(31,4,29),(32,0,35),(32,2,6),(32,4,7),(32,6,33),(33,0,36),(33,2,32),(33,4,31),(34,0,37),(34,4,6),(34,6,35),(35,0,38),(35,2,34),(35,4,32),(35,6,36),(36,0,39),(36,2,35),(36,4,33),(37,0,41),(37,4,34),(37,6,38),(38,0,42),(38,2,37),(38,4,35),(38,6,39),(39,0,43),(39,2,38),(39,4,36),(39,6,40),(40,0,44),(40,2,39),(41,0,45),(41,2,51),(41,4,37),(41,6,42),(42,0,46),(42,2,41),(42,4,38),(42,6,43),(43,0,47),(43,2,42),(43,4,39),(43,6,44),(44,0,48),(44,2,43),(44,4,40),(45,0,74),(45,2,72),(45,4,41),(45,6,46),(46,0,73),(46,2,45),(46,4,42),(46,6,47),(47,0,67),(47,2,46),(47,4,43),(47,6,48),(48,0,49),(48,2,47),(48,4,44),(49,0,50),(49,2,67),(49,4,48),(50,0,109),(50,4,49),(51,0,72),(51,2,52),(51,6,41),(52,0,71),(52,2,53),(52,6,51),(53,0,70),(53,2,54),(53,6,52),(54,0,69),(54,2,55),(54,4,84),(54,6,53),(55,0,68),(55,2,56),(55,4,87),(55,6,54),(56,0,66),(56,2,99),(56,4,57),(56,6,55),(57,0,56),(57,2,98),(57,4,58),(57,6,87),(58,0,57),(58,2,91),(58,4,59),(58,6,86),(59,0,58),(59,2,88),(59,4,60),(59,6,85),(60,0,59),(60,2,89),(60,4,61),(60,6,80),(61,0,60),(61,2,90),(61,6,62),(62,0,80),(62,2,61),(62,6,63),(63,0,81),(63,2,62),(63,6,64),(64,0,8),(64,2,63),(64,4,65),(64,6,9),(65,0,64),(65,6,19),(66,4,56),(66,6,68),(67,2,73),(67,4,47),(67,6,49),(68,0,79),(68,2,66),(68,4,55),(68,6,69),(69,0,78),(69,2,68),(69,4,54),(69,6,70),(70,0,77),(70,2,69),(70,4,53),(70,6,71),(71,0,76),(71,2,70),(71,4,52),(71,6,72),(72,0,75),(72,2,71),(72,4,51),(72,6,45),(73,2,74),(73,4,46),(73,6,67),(74,2,75),(74,4,45),(74,6,73),(75,2,76),(75,4,72),(75,6,74),(76,2,77),(76,4,71),(76,6,75),(77,2,78),(77,4,70),(77,6,76),(78,2,79),(78,4,69),(78,6,77),(79,4,68),(79,6,78),(80,0,85),(80,2,60),(80,4,62),(80,6,81),(81,0,82),(81,2,80),(81,4,63),(81,6,8),(82,0,83),(82,2,85),(82,4,81),(82,6,121),(83,0,84),(83,2,86),(83,4,82),(84,0,54),(84,2,87),(84,4,83),(85,0,86),(85,2,59),(85,4,80),(85,6,82),(86,0,87),(86,2,58),(86,4,85),(86,6,83),(87,0,55),(87,2,57),(87,4,86),(87,6,84),(88,0,91),(88,2,107),(88,4,89),(88,6,59),(89,0,88),(89,2,105),(89,4,90),(89,6,60),(90,0,89),(90,2,100),(90,6,61),(91,0,98),(91,2,92),(91,4,88),(91,6,58),(92,0,96),(92,2,93),(92,4,107),(92,6,91),(93,0,95),(93,2,94),(93,4,108),(93,6,92),(94,4,104),(94,6,93),(95,4,93),(95,6,96),(96,0,97),(96,2,95),(96,4,92),(96,6,98),(97,4,96),(97,6,99),(98,0,99),(98,2,96),(98,4,91),(98,6,57),(99,2,97),(99,4,98),(99,6,56),(100,0,105),(100,2,101),(100,6,90),(101,0,106),(101,2,102),(101,6,100),(102,0,103),(102,6,101),(103,0,104),(103,4,102),(103,6,106),(104,0,94),(104,4,103),(104,6,108),(105,0,107),(105,2,106),(105,4,100),(105,6,89),(106,0,108),(106,2,103),(106,4,101),(106,6,105),(107,0,92),(107,2,108),(107,4,105),(107,6,88),(108,0,93),(108,2,104),(108,4,106),(108,6,107),(109,0,112),(109,4,50),(109,6,110),(110,2,109),(110,6,111),(111,2,110),(112,4,109),(112,7,113),(113,1,114),(113,3,112),(113,6,115),(114,5,113),(114,9,116),(115,0,117),(115,2,113),(116,8,114),(117,1,118),(117,4,115),(118,5,117),(118,9,119),(119,0,120),(119,8,118),(120,4,119),(121,2,82),(121,4,8),(122,4,4),(122,6,6),(123,0,124),(123,2,125),(123,4,126),(124,0,127),(124,4,123),(125,2,131),(125,6,123),(126,0,123),(127,0,128),(127,2,129),(127,4,124),(128,0,132),(128,1,133),(128,4,127),(128,7,134),(129,2,130),(129,6,127),(130,0,135),(130,2,136),(130,6,129),(131,1,140),(131,2,141),(131,6,125),(132,0,161),(132,1,160),(132,2,133),(132,4,128),(132,6,134),(132,7,162),(133,0,160),(133,5,128),(133,6,132),(133,7,161),(134,0,162),(134,1,161),(134,2,132),(134,3,128),(135,0,145),(135,2,146),(135,4,130),(135,6,144),(136,1,137),(136,2,138),(136,3,139),(136,4,140),(136,6,130),(137,4,138),(137,5,136),(138,0,137),(138,4,139),(138,5,140),(138,6,136),(139,0,138),(139,4,143),(139,5,141),(139,6,140),(139,7,136),(140,0,136),(140,1,138),(140,2,139),(140,3,143),(140,4,141),(140,5,131),(141,0,140),(141,1,139),(141,2,143),(141,3,142),(141,6,131),(142,0,143),(142,7,141),(143,0,139),(143,4,142),(143,6,141),(143,7,140),(144,1,145),(144,2,135),(145,4,135),(145,5,144),(146,0,147),(146,6,135),(147,4,146),(147,8,148),(148,2,149),(148,9,147),(149,0,156),(149,1,157),(149,2,152),(149,3,151),(149,4,150),(149,6,148),(150,0,149),(150,1,152),(150,2,151),(151,0,152),(151,6,150),(151,7,149),(152,0,157),(152,2,153),(152,4,151),(152,5,150),(152,6,149),(152,7,156),(153,6,152),(153,8,154),(154,2,155),(154,9,153),(155,6,154),(156,2,157),(156,3,152),(156,4,149),(157,2,158),(157,4,152),(157,5,149),(157,6,156),(158,0,159),(158,6,157),(159,4,158),(160,0,164),(160,1,163),(160,4,133),(160,5,132),(160,6,161),(160,7,165),(161,0,165),(161,1,164),(161,2,160),(161,3,133),(161,4,132),(161,5,134),(161,6,162),(161,7,169),(162,0,169),(162,1,165),(162,2,161),(162,3,132),(162,4,134),(162,6,170),(162,7,171),(163,0,167),(163,1,168),(163,5,160),(163,6,164),(164,1,167),(164,2,163),(164,4,160),(164,5,161),(164,6,165),(165,2,164),(165,3,160),(165,4,161),(165,5,162),(165,6,169),(166,1,173),(166,2,172),(166,4,168),(166,5,167),(167,1,166),(167,2,168),(167,4,163),(167,5,164),(168,0,166),(168,1,172),(168,5,163),(168,6,167),(169,2,165),(169,3,161),(169,4,162),(169,5,170),(169,6,171),(170,0,171),(170,1,169),(170,2,162),(170,6,174),(170,7,175),(171,2,169),(171,3,162),(171,4,170),(171,5,174),(171,6,175),(172,0,173),(172,5,168),(172,6,166),(173,0,176),(173,4,172),(173,5,166),(173,7,177),(174,0,175),(174,1,171),(174,2,170),(175,2,171),(175,3,170),(175,4,174),(176,0,179),(176,4,173),(176,6,177),(176,7,178),(177,0,178),(177,1,179),(177,2,176),(177,3,173),(178,0,181),(178,1,180),(178,2,179),(178,3,176),(178,4,177),(179,0,180),(179,4,176),(179,5,177),(179,6,178),(179,7,181),(180,0,182),(180,4,179),(180,5,178),(180,6,181),(180,7,183),(181,0,183),(181,1,182),(181,2,180),(181,3,179),(181,4,178),(182,4,180),(182,5,181),(182,6,183),(183,0,184),(183,2,182),(183,3,180),(183,4,181),(184,0,185),(184,4,183),(185,1,186),(185,4,184),(185,7,187),(186,5,185),(186,7,188),(187,1,188),(187,3,185),(188,3,186),(188,5,187);
/*!40000 ALTER TABLE `exits` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `help`
--

DROP TABLE IF EXISTS `help`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `help` (
  `id` int(11) NOT NULL,
  `title` varchar(45) DEFAULT NULL,
  `search_string` tinytext,
  `text` mediumtext,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `help`
--

LOCK TABLES `help` WRITE;
/*!40000 ALTER TABLE `help` DISABLE KEYS */;
/*!40000 ALTER TABLE `help` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `items`
--

DROP TABLE IF EXISTS `items`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `items` (
  `id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `keywords` tinytext NOT NULL,
  `inroom_name` varchar(100) NOT NULL,
  `item_level` int(11) NOT NULL,
  `char_level` int(11) NOT NULL,
  `equip_location` int(11) NOT NULL,
  `quality` int(11) NOT NULL,
  `binds` int(11) NOT NULL,
  `type` int(11) NOT NULL,
  `skill_id` int(11) NOT NULL,
  `quest` int(11) NOT NULL,
  `armor` int(11) NOT NULL,
  `durability` int(11) NOT NULL,
  `unique` int(11) NOT NULL,
  `damage_low` int(11) NOT NULL,
  `damage_high` int(11) NOT NULL,
  `value` int(11) NOT NULL,
  `speed` decimal(10,1) NOT NULL,
  `agility` int(11) NOT NULL,
  `intellect` int(11) NOT NULL,
  `strength` int(11) NOT NULL,
  `stamina` int(11) NOT NULL,
  `wisdom` int(11) NOT NULL,
  `spirit` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `items`
--

LOCK TABLES `items` WRITE;
/*!40000 ALTER TABLE `items` DISABLE KEYS */;
INSERT INTO `items` VALUES (1,'The One Ring','one ring','',15,10,11,2,2,13,0,0,0,0,0,0,0,140,0.0,1,1,1,1,1,1),(2,'Test Item of Power','test item power','',5,2,14,4,1,7,0,0,100,100,1,100,100,1000,2.0,0,0,0,0,0,0),(3,'Worn Greatsword','','',1,1,16,1,0,4,0,0,0,25,0,2,3,4,2.4,0,0,0,0,0,0),(4,'Recruit\'s Vest','','',1,1,5,1,0,0,0,0,3,55,0,0,0,2,0.0,0,0,0,0,0,0),(5,'Recruit\'s Pants','','',1,1,9,1,0,0,0,0,3,40,0,0,0,2,0.0,0,0,0,0,0,0),(6,'Recruit\'s Boots','','',1,1,10,1,0,0,0,0,2,25,0,0,0,1,0.0,0,0,0,0,0,0),(7,'Apprentice\'s Boots','','',1,1,10,1,0,0,0,0,2,25,0,0,0,2,0.0,0,0,0,0,0,0),(8,'Apprentice\'s Robe','','',1,1,5,1,0,0,0,0,3,55,0,0,0,2,0.0,0,0,0,0,0,0),(9,'Apprentice\'s Pants','','',1,1,9,1,0,0,0,0,3,40,0,0,0,2,0.0,0,0,0,0,0,0),(10,'Bent Staff','','',1,1,16,1,0,9,0,0,0,25,0,2,3,4,2.3,0,0,0,0,0,0),(11,'Footpad\'s Pants','','',1,1,9,1,0,0,0,0,2,40,0,0,0,2,0.0,0,0,0,0,0,0),(12,'Footpad\'s Vest','','',1,1,5,1,0,0,0,0,3,55,0,0,0,2,0.0,0,0,0,0,0,0),(13,'Footpad\'s Shoes','','',1,1,10,1,0,0,0,0,3,25,0,0,0,1,0.0,0,0,0,0,0,0),(14,'Worn Shortsword','worn shortsword sword','',1,1,14,1,0,4,0,0,0,20,0,1,3,3,1.9,0,0,0,0,0,0),(15,'Neophyte\'s Pants','','',1,1,9,1,0,0,0,0,3,40,0,0,0,2,0.0,0,0,0,0,0,0),(16,'Neophyte\'s Boots','','',1,1,10,1,0,0,0,0,2,25,0,0,0,2,0.0,0,0,0,0,0,0),(17,'Neophyte\'s Robe','','',1,1,5,1,0,0,0,0,3,55,0,0,0,2,0.0,0,0,0,0,0,0),(18,'Refreshing Spring Water','','',1,1,0,1,0,15,38,0,0,0,0,0,0,1,0.0,0,0,0,0,0,0),(19,'Shiny Red Apple','','',1,1,0,1,0,11,37,0,0,0,0,0,0,1,0.0,0,0,0,0,0,0),(20,'Tough Wolf Meat','','',1,0,0,1,0,13,0,1,0,0,0,0,0,0,0.0,0,0,0,0,0,0),(21,'Red Burlap Bandana','','',1,0,0,1,0,13,0,1,0,0,0,0,0,0,0.0,0,0,0,0,0,0),(22,'Milly\'s Harvest','milly harvest grapes bucket','A large bucket of grapes is here.',1,0,0,1,0,13,0,1,0,0,0,0,0,0,0.0,0,0,0,0,0,0),(23,'Grape Manifest','','',1,1,0,1,1,13,0,1,0,0,1,0,0,0,0.0,0,0,0,0,0,0),(24,'Marshal McBride\'s Documents','','',1,1,0,1,1,13,0,1,0,0,1,0,0,0,0.0,0,0,0,0,0,0),(25,'Garrick\'s Head','','',1,1,0,1,1,13,0,1,0,0,1,0,0,0,0.0,0,0,0,0,0,0),(26,'Soft Fur-lined Shoes','soft fur-lined shoes','',5,1,10,1,1,0,0,0,7,20,0,0,0,7,0.0,0,0,0,0,0,0),(27,'Wolfskin Bracers','wolfskin bracers','',5,1,6,2,1,0,0,0,7,16,0,0,0,6,0.0,0,0,0,0,0,0),(28,'Morning Glory Dew','','',230,1,0,1,0,15,38,0,0,0,0,0,0,2,0.0,0,0,0,0,0,0),(29,'Lagrave\'s Seal','ring lagraves seal','',234,1,11,2,1,13,0,0,0,0,0,0,0,90,0.0,0,7,0,7,0,7),(30,'Essence of the Elements','','',1,1,0,1,0,13,0,1,0,0,0,0,0,0,0.0,0,0,0,0,0,0),(31,'Burning Pitch','','',1,1,0,0,0,13,0,0,0,0,0,0,0,5,0.0,0,0,0,0,0,0),(32,'Sunborne Cape','','',236,1,4,2,1,0,0,0,36,0,0,0,0,104,0.0,0,3,0,0,0,5),(33,'Nightfall Gloves','','',236,1,7,2,1,1,0,0,91,30,0,0,0,87,0.0,12,0,12,0,0,0),(34,'Crypt Demon Bracers','','',236,1,6,2,1,2,0,0,132,35,0,0,0,104,0.0,14,0,0,0,0,0),(35,'Stalwart Clutch','','',236,1,8,2,1,3,0,0,300,40,0,0,0,70,0.0,12,0,0,12,0,0),(36,'Arcanite Reaper','axe arcanite reaper','',241,238,16,3,2,7,0,0,0,100,1,153,256,730,3.8,0,0,0,13,0,0),(37,'Golem Skull Helm','','',234,225,1,3,1,3,0,0,447,80,1,0,0,118,0.0,0,0,18,18,0,0),(38,'Ebonsteel Spaulders','','',236,226,3,3,1,3,0,0,553,80,0,0,0,143,0.0,7,0,6,16,0,0),(39,'Verek\'s Collar','','',233,224,2,3,1,13,0,0,0,0,0,0,0,146,0.0,0,0,6,7,0,0),(40,'The Emperor\'s New Cape','','',240,230,4,3,1,0,0,0,43,0,0,0,0,145,0.0,7,0,0,16,0,0),(41,'Savage Gladiator Chain','','',234,223,5,4,1,2,0,0,369,140,0,0,0,335,0.0,14,0,13,13,0,0),(42,'Emberplate Armguards','','',236,224,6,3,1,3,0,0,261,45,0,0,0,86,0.0,0,0,10,10,0,0),(43,'Stonegrip Gauntlets','','',238,230,7,3,2,3,0,0,392,45,0,0,0,104,0.0,0,0,9,14,0,0),(44,'Warmaster Legguards','','',241,237,9,3,1,3,0,0,575,100,0,0,0,231,0.0,0,0,13,15,0,0),(45,'Shalehusk Boots','','',236,224,10,3,1,3,0,0,417,65,0,0,0,137,0.0,0,0,0,5,0,0),(46,'Rock Golem Bulwark','','',236,222,13,3,1,14,0,0,1994,100,0,0,0,290,0.0,0,0,0,10,0,0),(47,'Hurley\'s Tankard','','',234,222,14,3,1,6,0,0,0,90,0,71,132,414,2.7,5,0,0,12,0,0),(48,'Chief Architect\'s Monocle','','',235,230,1,3,1,0,0,0,64,50,0,0,0,111,0.0,0,27,0,10,27,3),(49,'Senior Designer\'s Pantaloons','','',235,230,9,3,1,0,0,0,69,65,0,0,0,150,0.0,0,47,0,8,7,18),(50,'The Hammer of Grace','','',237,234,14,3,1,6,0,0,0,90,0,71,132,436,2.7,0,31,0,0,0,0),(51,'Ghostshroud','','',238,234,1,3,1,1,0,0,132,60,0,0,0,164,0.0,19,0,12,18,0,0),(52,'Second Wind','','',238,235,12,3,1,13,51,0,0,0,1,0,0,100,0.0,0,22,0,0,0,0),(53,'Omnicast Boots','','',238,236,10,3,1,0,0,0,58,40,0,0,0,141,0.0,0,31,0,6,9,0),(54,'Roasted Quail','','',1,1,0,1,0,11,37,0,0,0,0,0,0,1,0.0,0,0,0,0,0,0),(55,'Thaurissan\'s Royal Scepter','','',240,233,13,3,1,13,0,0,0,0,0,0,0,220,0.0,0,27,0,5,5,10),(56,'Hands of the Exalted Herald','','',239,232,7,3,1,0,0,0,52,30,0,0,0,94,0.0,0,46,0,0,13,12),(57,'Swiftwalker Boots','','',239,233,10,3,1,1,0,0,115,50,0,0,0,176,0.0,21,0,4,7,0,0),(58,'Burst of Knowledge','','',236,228,12,3,1,13,52,0,0,0,1,0,0,100,0.0,0,12,0,0,0,0),(59,'Bloodclot Band','','',235,230,11,3,1,13,0,0,0,0,1,0,0,361,0.0,0,23,0,8,8,7),(60,'Gemshard Heart','','',230,225,2,3,1,13,0,0,0,0,0,0,0,116,0.0,0,10,0,10,10,6),(61,'Mantle of Lost Hope','','',230,225,3,3,1,0,0,0,57,50,0,0,0,97,0.0,0,37,0,5,11,15),(62,'Robes of the Royal Crown','','',239,233,5,3,1,0,0,0,85,80,0,0,0,204,0.0,0,30,0,19,12,10),(63,'Aristocratic Cuffs','','',233,224,6,3,0,0,0,0,34,30,0,0,0,74,0.0,0,15,0,0,15,6),(64,'Ban\'thok Sash','','',233,224,8,3,1,0,0,0,43,30,0,0,0,74,0.0,0,23,0,10,11,0),(65,'Sash of the Burning Heart','','',233,230,8,3,1,0,0,0,46,30,0,0,0,91,0.0,0,24,0,10,0,10),(66,'Rubidium Hammer','','',232,230,14,3,1,6,0,0,120,90,0,51,96,404,2.0,0,0,5,0,0,0),(67,'Force of Magma','','',233,230,16,3,1,6,0,0,0,100,0,123,185,510,3.2,0,0,14,0,0,0),(68,'Lavacrest Leggings','','',235,230,9,3,1,3,0,0,531,100,0,0,0,179,0.0,0,0,28,12,0,0),(69,'Masons Fraternity Ring','','',220,215,11,3,1,13,0,0,0,0,1,0,0,70,0.0,13,0,0,5,0,0),(70,'Band of Flesh','','',234,233,11,3,1,13,0,0,0,0,0,0,0,148,0.0,3,0,6,16,0,0),(71,'Ring of Protection','','',240,238,11,3,1,13,0,0,150,0,1,0,0,79,0.0,0,0,0,9,0,0),(72,'Albino Crocscale Boots','','',223,220,10,3,0,1,0,0,105,50,0,0,0,124,0.0,20,0,0,0,0,0),(73,'Mixologists\'s Tunic','','',230,228,5,3,1,1,0,0,158,100,0,0,0,198,0.0,11,0,18,18,0,0),(74,'Plaguebat Fur Gloves','','',231,229,7,3,2,1,0,0,103,35,0,0,0,113,0.0,13,0,0,14,0,0),(75,'Barman Shanker','','',230,228,14,3,1,5,0,0,0,65,0,51,95,394,2.0,0,0,0,0,0,0),(76,'Lifeforce Dirk','','',222,220,15,3,1,5,0,0,0,65,0,40,75,353,1.6,0,0,0,11,0,0),(77,'Dark Warder\'s Pauldrons','','',226,225,3,3,1,1,0,0,122,60,0,0,0,157,0.0,17,0,11,7,0,0),(78,'Wristguards of Renown','','',230,230,6,3,1,1,0,0,74,35,0,0,0,124,0.0,10,0,9,10,0,0),(79,'Shadowcraft Belt','','',226,226,8,3,2,1,0,0,93,35,0,0,0,111,0.0,14,0,9,10,0,9),(80,'Warstrife Leggings','','',235,230,9,3,1,1,0,0,144,75,0,0,0,223,0.0,6,0,6,12,0,0),(81,'Warstrike Cape','','',236,232,4,2,2,0,0,0,37,0,0,0,0,106,0.0,3,0,7,10,0,0),(82,'Woven Ivy Necklace','','',231,228,2,3,1,13,0,0,0,0,0,0,0,211,0.0,9,0,6,10,0,0);
/*!40000 ALTER TABLE `items` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `npc_drops`
--

DROP TABLE IF EXISTS `npc_drops`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `npc_drops` (
  `npc` int(11) NOT NULL,
  `items` varchar(45) NOT NULL,
  `percent` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `npc_drops`
--

LOCK TABLES `npc_drops` WRITE;
/*!40000 ALTER TABLE `npc_drops` DISABLE KEYS */;
INSERT INTO `npc_drops` VALUES (1,'1;',100),(1,'2;',100),(1,'3;',100),(1,'10;',100),(1,'18;',100),(1,'20;',100),(1,'36;35;34;33;',100),(2,'20;',100),(3,'20;',100),(18,'25;',100),(22,'21;',100),(23,'21;',100),(24,'28;',2),(25,'30;',100),(25,'31;',38),(28,'30;',100),(29,'28;',2),(33,'66;65;67;68;',100);
/*!40000 ALTER TABLE `npc_drops` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `npcs`
--

DROP TABLE IF EXISTS `npcs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `npcs` (
  `id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `keywords` tinytext NOT NULL,
  `level` int(11) NOT NULL,
  `gender` int(11) NOT NULL,
  `race` int(11) NOT NULL,
  `health` int(11) NOT NULL,
  `mana` int(11) NOT NULL,
  `energy` int(11) NOT NULL,
  `rage` int(11) NOT NULL,
  `armor` int(11) NOT NULL,
  `title` varchar(45) NOT NULL,
  `attack_speed` double NOT NULL,
  `damage_low` int(11) NOT NULL,
  `damage_high` int(11) NOT NULL,
  `flags` tinytext NOT NULL,
  `speechtext` text NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `npcs`
--

LOCK TABLES `npcs` WRITE;
/*!40000 ALTER TABLE `npcs` DISABLE KEYS */;
INSERT INTO `npcs` VALUES (1,'The Lurker Below','',240,1,0,10000,50,0,0,5000,'',2.5,10,20,'1;',''),(2,'Diseased Young Wolf','',1,1,0,18,0,0,0,0,'',2,2,3,'1;',''),(3,'Diseased Timber Wolf','',1,1,0,18,0,0,0,0,'',2,2,3,'1;',''),(4,'Marshal McBride','',20,1,1,50,50,0,0,0,'',2,1,1,'0;','Hey, citizen! You look like a stout one. We guards are spread a little thin out here, and I could use your help...'),(5,'Eagan Peltskinner','',3,1,1,50,50,0,0,0,'',2,1,1,'0;',''),(6,'Deputy Willem','',18,1,1,50,50,0,0,0,'',2,1,1,'0;','Normally I\'d be out on the beat looking after the folk of Stormwind, but a lot of the Stormwind guards are fighting in the other lands. So here I am, deputized and offering bounties when I\'d rather be on patrol...'),(7,'Milly Osworth','',2,1,1,50,50,0,0,0,'',2,1,1,'0;',''),(8,'Kobold Vermin','',2,1,0,20,20,0,0,0,'',2,2,4,'1;',''),(9,'Kobold Worker','',3,1,0,60,20,0,0,0,'',2,5,7,'1;',''),(10,'Kobold Laborer','',5,1,0,100,20,0,0,0,'',2,9,11,'1;',''),(11,'Falkhaan Isenstrider','',10,1,1,50,50,0,0,0,'',2,1,1,'0;',''),(12,'Brother Neals','',50,1,1,50,50,0,0,0,'',2,1,1,'0;',''),(13,'Janos Hammerknuckle','',5,1,1,50,50,0,0,0,'Weaponsmith',2,1,1,'0;4;5;',''),(14,'Godric Rothgar','',5,1,1,50,50,0,0,0,'Armorer & Shieldcrafter',2,1,1,'0;4;5;',''),(15,'Brother Danil','',5,1,1,50,50,0,0,0,'General Supplies',2,1,1,'0;4;',''),(16,'Dermot Johns','',5,1,1,50,50,0,0,0,'Cloth & Leather Armor Merchant',2,1,1,'0;4;5;',''),(17,'Marshal Dughan','',1,1,0,50,50,100,0,0,'',2,1,1,'0;','Ach, it\'s hard enough keeping order around here without all these new troubles popping up! I hope you have good news...'),(18,'Garrick Padfoot','',5,1,0,50,50,100,0,0,'',2,12,14,'2;',''),(19,'Innkeeper Farley','',30,1,0,50,50,100,0,0,'',2,1,1,'0;','Welcome to my Inn, weary traveler. What can I do for you?'),(20,'Brother Paxton','',5,1,0,50,50,100,0,0,'',2,1,1,'0;',''),(21,'Brother Sammuel','',5,1,0,50,50,100,0,0,'',2,1,1,'0;',''),(22,'Defias Thug','',4,1,0,100,50,100,0,0,'',2,9,11,'2;',''),(23,'Defias Thug','',3,2,0,60,50,100,0,0,'',2,6,8,'2;',''),(24,'Anvilrage Overseer','',229,1,0,6500,50,100,100,2944,'',1.26,269,346,'2;',''),(25,'Blazing Fireguard','',233,1,0,5900,3900,100,100,2522,'',1.22,198,256,'2;',''),(26,'Shadowmage Vivian Lagrave','',238,2,0,4484,2289,100,100,0,'',2,106,136,'0;',''),(27,'Jalinda Sprig','',237,2,0,4356,5340,100,100,0,'',2,102,131,'0;',''),(28,'Lord Incendius','',235,1,0,15000,5000,100,100,3100,'',2.5,500,600,'2;',''),(29,'Anvilrage Soldier','',233,1,0,7300,50,100,100,3301,'',3.2,250,475,'2;',''),(30,'Anvilrage Medic','',232,1,0,5000,9000,100,100,0,'',2.6,441,534,'2;',''),(31,'Anvilrage Officer','',233,1,0,6000,4000,100,100,0,'',2.6,689,760,'2;',''),(32,'Anvilrage Footman','',232,1,0,6900,50,100,100,0,'',2,375,462,'2;',''),(33,'Bael\'Gar','Bael\'Gar',234,1,1,19500,50,100,100,3108,'',2.8,512,609,'2;',''),(34,'Spawn of Bael\'Gar','Spawn of Bael\'Gar',229,1,1,3000,50,100,100,0,'',2,220,300,'2;',''),(35,'Demon Bloodhound','Bloodhound',225,1,1,2500,50,100,100,2972,'',2,125,200,'2;','');
/*!40000 ALTER TABLE `npcs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `player_active_quests`
--

DROP TABLE IF EXISTS `player_active_quests`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `player_active_quests` (
  `player` varchar(12) NOT NULL,
  `quest` int(11) NOT NULL,
  `objectives` tinytext,
  PRIMARY KEY (`player`,`quest`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `player_active_quests`
--

LOCK TABLES `player_active_quests` WRITE;
/*!40000 ALTER TABLE `player_active_quests` DISABLE KEYS */;
INSERT INTO `player_active_quests` VALUES ('Bobo',1,'4'),('Bobo',4,'8'),('Maikeru',5,'1'),('Momo',1,'0'),('Momo',4,'0');
/*!40000 ALTER TABLE `player_active_quests` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `player_alias`
--

DROP TABLE IF EXISTS `player_alias`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `player_alias` (
  `player` varchar(12) NOT NULL,
  `word` varchar(25) NOT NULL,
  `substitution` varchar(512) NOT NULL,
  PRIMARY KEY (`player`,`word`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `player_alias`
--

LOCK TABLES `player_alias` WRITE;
/*!40000 ALTER TABLE `player_alias` DISABLE KEYS */;
INSERT INTO `player_alias` VALUES ('Bobo','evis','cast eviscerate'),('Bobo','ss','cast \'sinister strike\''),('Boris','ai','cast \'arcane intellect 5\''),('Boris','bt','cast bloodthirst'),('Boris','evis','cast eviscerate'),('Boris','ff','cast \'frostbolt 1\''),('Boris','fh','cast \'flash heal 7\''),('Boris','gh','cast \'greater heal 5\''),('Boris','gt','group talk'),('Boris','kd','cast \'kidney shot\''),('Boris','poh','cast \'prayer of healing 5\''),('Boris','poly','cast \'Polymorph 4\''),('Boris','pwf','cast \'power word: fortitude 6\''),('Boris','pws','cast \'power word: shield\''),('Boris','r1','c \'renew 1\''),('Boris','ss','cast \'sinister strike\''),('Boris','ww','c whirlwind'),('Healertest','fh','c \'flash heal 7\''),('Healertest','gh','c \'greater heal 5\''),('Healertest','gt','group talk'),('Healertest','pws','cast \'power word: shield\''),('Healertest','renew','c \'renew 10\''),('Tanktest','bt','c \'bloodthirst\''),('Tanktest','sa','c \'sunder armor\''),('Tanktest','ss','c \'shield slam\''),('Tanktest','taunt','c \'taunt 1\''),('Tanktest','ww','c \'whirlwind\'');
/*!40000 ALTER TABLE `player_alias` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `player_class_data`
--

DROP TABLE IF EXISTS `player_class_data`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `player_class_data` (
  `player` varchar(12) NOT NULL,
  `class` int(11) NOT NULL,
  `level` int(11) NOT NULL,
  PRIMARY KEY (`player`,`class`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `player_class_data`
--

LOCK TABLES `player_class_data` WRITE;
/*!40000 ALTER TABLE `player_class_data` DISABLE KEYS */;
INSERT INTO `player_class_data` VALUES ('Bob',1,40),('Bob',2,30),('Bob',3,81),('Bob',4,155),('Bobo',2,2),('Boris',1,59),('Boris',2,60),('Boris',3,60),('Boris',4,60),('Healertest',4,240),('Magetest',3,240),('Maikeru',2,2),('Momo',1,1),('Roguetest',2,240),('Tanktest',1,240),('Tash',1,2);
/*!40000 ALTER TABLE `player_class_data` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `player_completed_quests`
--

DROP TABLE IF EXISTS `player_completed_quests`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `player_completed_quests` (
  `player` varchar(12) NOT NULL,
  `quest` int(11) NOT NULL,
  PRIMARY KEY (`player`,`quest`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `player_completed_quests`
--

LOCK TABLES `player_completed_quests` WRITE;
/*!40000 ALTER TABLE `player_completed_quests` DISABLE KEYS */;
INSERT INTO `player_completed_quests` VALUES ('Bobo',6),('Bobo',8),('Boris',6),('Boris',8),('Boris',15),('Boris',16),('Maikeru',1),('Maikeru',4),('Maikeru',6),('Maikeru',8),('Momo',6),('Momo',8),('Tash',1),('Tash',6);
/*!40000 ALTER TABLE `player_completed_quests` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `player_cooldowns`
--

DROP TABLE IF EXISTS `player_cooldowns`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `player_cooldowns` (
  `player` varchar(12) NOT NULL,
  `skill` int(11) NOT NULL,
  `timestamp` double DEFAULT NULL,
  PRIMARY KEY (`player`,`skill`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `player_cooldowns`
--

LOCK TABLES `player_cooldowns` WRITE;
/*!40000 ALTER TABLE `player_cooldowns` DISABLE KEYS */;
/*!40000 ALTER TABLE `player_cooldowns` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `player_inventory`
--

DROP TABLE IF EXISTS `player_inventory`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `player_inventory` (
  `player` varchar(12) NOT NULL,
  `item` int(11) NOT NULL,
  `count` int(11) NOT NULL,
  `location` int(11) NOT NULL,
  KEY `player` (`player`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `player_inventory`
--

LOCK TABLES `player_inventory` WRITE;
/*!40000 ALTER TABLE `player_inventory` DISABLE KEYS */;
INSERT INTO `player_inventory` VALUES ('Tash',4,1,0),('Tash',5,1,0),('Tash',6,1,0),('Tash',3,1,0),('Tash',19,1,1),('Tash',19,1,1),('Tash',19,1,1),('Tash',19,1,1),('Tash',19,1,1),('Maikeru',12,1,0),('Maikeru',27,1,0),('Maikeru',11,1,0),('Maikeru',13,1,0),('Maikeru',14,1,0),('Maikeru',19,1,1),('Maikeru',19,1,1),('Maikeru',19,1,1),('Maikeru',19,1,1),('Maikeru',19,1,1),('Maikeru',19,1,1),('Maikeru',19,1,1),('Maikeru',19,1,1),('Maikeru',19,1,1),('Maikeru',18,1,1),('Maikeru',18,1,1),('Maikeru',18,1,1),('Maikeru',18,1,1),('Maikeru',18,1,1),('Maikeru',18,1,1),('Maikeru',18,1,1),('Maikeru',18,1,1),('Maikeru',18,1,1),('Maikeru',18,1,1),('Maikeru',21,1,1),('Momo',4,1,0),('Momo',5,1,0),('Momo',6,1,0),('Momo',3,1,0),('Momo',18,10,1),('Momo',19,10,1),('Bobo',2,1,0),('Bobo',12,1,0),('Bobo',11,1,0),('Bobo',13,1,0),('Bobo',14,1,0),('Bobo',10,1,1),('Bobo',3,1,1),('Bobo',20,11,1),('Bobo',18,11,1),('Bobo',19,10,1),('Bob',4,1,0),('Bob',5,1,0),('Bob',6,1,0),('Bob',3,1,0),('Bob',21,8,1),('Bob',20,2,1),('Bob',22,3,1),('Roguetest',51,1,0),('Roguetest',82,1,0),('Roguetest',77,1,0),('Roguetest',81,1,0),('Roguetest',73,1,0),('Roguetest',78,1,0),('Roguetest',74,1,0),('Roguetest',79,1,0),('Roguetest',80,1,0),('Roguetest',57,1,0),('Roguetest',70,1,0),('Roguetest',69,1,0),('Roguetest',76,1,0),('Roguetest',75,1,0),('Roguetest',18,10,1),('Roguetest',19,10,1),('Magetest',8,1,0),('Magetest',9,1,0),('Magetest',7,1,0),('Magetest',10,1,0),('Magetest',18,10,1),('Magetest',19,10,1),('Tanktest',37,1,0),('Tanktest',39,1,0),('Tanktest',38,1,0),('Tanktest',40,1,0),('Tanktest',41,1,0),('Tanktest',42,1,0),('Tanktest',43,1,0),('Tanktest',35,1,0),('Tanktest',44,1,0),('Tanktest',45,1,0),('Tanktest',70,1,0),('Tanktest',71,1,0),('Tanktest',46,1,0),('Tanktest',47,1,0),('Tanktest',19,10,1),('Tanktest',18,10,1),('Tanktest',36,1,1),('Healertest',48,1,0),('Healertest',60,1,0),('Healertest',61,1,0),('Healertest',32,1,0),('Healertest',62,1,0),('Healertest',63,1,0),('Healertest',56,1,0),('Healertest',64,1,0),('Healertest',49,1,0),('Healertest',53,1,0),('Healertest',29,1,0),('Healertest',59,1,0),('Healertest',58,1,0),('Healertest',52,1,0),('Healertest',55,1,0),('Healertest',50,1,0),('Healertest',19,9,1),('Healertest',18,9,1),('Boris',37,1,0),('Boris',39,1,0),('Boris',38,1,0),('Boris',40,1,0),('Boris',41,1,0),('Boris',42,1,0),('Boris',43,1,0),('Boris',35,1,0),('Boris',44,1,0),('Boris',45,1,0),('Boris',29,1,0),('Boris',1,1,0),('Boris',52,1,0),('Boris',58,1,0),('Boris',36,1,0),('Boris',31,1,1),('Boris',19,14,1),('Boris',18,14,1),('Boris',76,1,1),('Boris',75,1,1),('Boris',74,1,1),('Boris',57,1,1),('Boris',55,1,1),('Boris',50,1,1),('Boris',53,1,1),('Boris',51,1,1),('Boris',49,1,1),('Boris',2,1,1),('Boris',1,1,1),('Boris',32,1,1),('Boris',48,1,1),('Boris',65,1,1),('Boris',67,1,1),('Boris',70,1,1),('Boris',71,1,1),('Boris',72,1,1),('Boris',73,1,1),('Boris',80,1,1),('Boris',81,1,1),('Boris',82,1,1),('Boris',47,1,1),('Boris',46,1,1);
/*!40000 ALTER TABLE `player_inventory` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `player_spell_affects`
--

DROP TABLE IF EXISTS `player_spell_affects`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `player_spell_affects` (
  `player` varchar(12) NOT NULL,
  `caster` varchar(12) NOT NULL,
  `skill` int(11) NOT NULL,
  `ticks` int(11) NOT NULL,
  `duration` double NOT NULL,
  `timeleft` double NOT NULL,
  `max_stacks` int(11) NOT NULL,
  `current_stacks` int(11) NOT NULL,
  `hidden` int(11) NOT NULL,
  `debuff` tinyint(4) NOT NULL,
  `category` int(11) NOT NULL,
  `auras` tinytext,
  `data` tinytext,
  `name` varchar(45) DEFAULT NULL,
  `affect_description` tinytext
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `player_spell_affects`
--

LOCK TABLES `player_spell_affects` WRITE;
/*!40000 ALTER TABLE `player_spell_affects` DISABLE KEYS */;
/*!40000 ALTER TABLE `player_spell_affects` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `players`
--

DROP TABLE IF EXISTS `players`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `players` (
  `name` varchar(12) NOT NULL,
  `password` varchar(15) NOT NULL,
  `immlevel` int(11) NOT NULL,
  `title` varchar(45) NOT NULL,
  `experience` int(11) NOT NULL,
  `room` int(11) NOT NULL,
  `level` int(11) NOT NULL,
  `gender` int(11) NOT NULL,
  `race` int(11) NOT NULL,
  `agility` int(11) NOT NULL,
  `intellect` int(11) NOT NULL,
  `strength` int(11) NOT NULL,
  `stamina` int(11) NOT NULL,
  `wisdom` int(11) NOT NULL,
  `spirit` int(11) NOT NULL,
  `health` int(11) NOT NULL,
  `mana` int(11) NOT NULL,
  `class` int(11) NOT NULL,
  `recall` int(11) NOT NULL,
  `ghost` double NOT NULL,
  `corpse_room` int(11) NOT NULL,
  `stat_points` int(11) NOT NULL,
  PRIMARY KEY (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `players`
--

LOCK TABLES `players` WRITE;
/*!40000 ALTER TABLE `players` DISABLE KEYS */;
INSERT INTO `players` VALUES ('Bob','\r\Z',0,'',61309521,35,240,1,0,139,512,118,446,269,102,4460,2690,4,0,0,0,1758),('Bobo','\r\Z',0,'',1268,123,2,1,0,5,5,5,5,5,5,50,50,2,2,0,0,6),('Boris','\r\Z',10,'',61309521,126,240,1,7,296,261,565,877,339,400,1008,4202,2,2,0,0,3336),('Healertest','\r\Z',0,'',61309521,126,240,1,6,5,184,5,184,185,184,2720,4695,4,2,0,0,0),('Magetest','\r\Z',0,'',61309521,126,240,1,4,5,5,5,5,5,5,50,75,3,2,0,0,717),('Maikeru','\0W',0,'',1356,121,2,1,0,5,5,5,11,5,5,0,50,4,2,1532997372,92,0),('Momo','\r\Z',0,'',300,33,1,1,0,5,5,5,5,5,5,50,50,1,2,0,0,0),('Roguetest','\r\Z',0,'',61309521,126,240,1,8,255,5,222,255,5,5,4030,75,2,123,0,0,0),('Tanktest','\r\Z',0,'',61309521,127,240,1,7,188,5,188,356,5,5,5290,75,1,2,0,0,0),('Tash','FCU',0,'',1451,3,2,1,2,5,5,5,5,5,0,50,100,1,2,0,0,6);
/*!40000 ALTER TABLE `players` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `quest_item_rewards`
--

DROP TABLE IF EXISTS `quest_item_rewards`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `quest_item_rewards` (
  `quest` int(11) NOT NULL,
  `item` int(11) NOT NULL,
  PRIMARY KEY (`quest`,`item`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `quest_item_rewards`
--

LOCK TABLES `quest_item_rewards` WRITE;
/*!40000 ALTER TABLE `quest_item_rewards` DISABLE KEYS */;
INSERT INTO `quest_item_rewards` VALUES (4,2),(4,26),(4,27),(15,29),(16,32),(16,33),(16,34),(16,35);
/*!40000 ALTER TABLE `quest_item_rewards` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `quest_objectives`
--

DROP TABLE IF EXISTS `quest_objectives`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `quest_objectives` (
  `quest` int(11) NOT NULL,
  `type` int(11) NOT NULL,
  `id` int(11) NOT NULL,
  `count` int(11) DEFAULT NULL,
  `description` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`quest`,`type`,`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `quest_objectives`
--

LOCK TABLES `quest_objectives` WRITE;
/*!40000 ALTER TABLE `quest_objectives` DISABLE KEYS */;
INSERT INTO `quest_objectives` VALUES (1,2,8,8,'Kobold Vermin'),(2,2,9,8,'Kobold Workers'),(3,2,10,8,'Kobold Laborers'),(4,3,20,8,'Tough Wolf Meat'),(5,3,21,8,'Red Burlap Bandana'),(9,3,22,8,'Milly\'s Harvest'),(11,2,18,1,'Garrick Padfoot slain'),(11,3,25,1,'Garrick\'s Head'),(12,3,23,1,'Grape Manifest'),(13,3,24,1,'Marshal McBride\'s Documents'),(15,3,30,10,'Essence of the Elements'),(16,2,28,1,'Lord Incendius slain');
/*!40000 ALTER TABLE `quest_objectives` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `quests`
--

DROP TABLE IF EXISTS `quests`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `quests` (
  `id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `short_description` text NOT NULL,
  `long_description` text NOT NULL,
  `progress_message` text NOT NULL,
  `completion_message` text NOT NULL,
  `level` int(11) NOT NULL,
  `quest_requirement` int(11) NOT NULL,
  `start` int(11) NOT NULL,
  `end` int(11) NOT NULL,
  `exp_reward` int(11) NOT NULL,
  `money_reward` int(11) NOT NULL,
  `shareable` int(11) NOT NULL,
  `level_requirement` int(11) NOT NULL,
  `quest_restriction` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `quests`
--

LOCK TABLES `quests` WRITE;
/*!40000 ALTER TABLE `quests` DISABLE KEYS */;
INSERT INTO `quests` VALUES (1,'Kobold Camp Cleanup','Kill 8 Kobold Vermin, then return to Marshal McBride.','Your first task is one of cleansing. A clan of kobolds have infested the \nwoods to the north. Go there and fight the Kobold Vermin you find. Reduce \ntheir numbers so that we may one day drive them from Northshire.','','Well done, citizen.  Those kobolds are thieves and cowards, but in large \nnumbers they pose a threat to us.  And the humans of Stormwind do not \nneed another threat.\n\nFor defeating them, you have my gratitude. ',2,6,4,4,170,10,1,1,0),(2,'Investigate Echo Ridge','Kill 8 Kobold Workers, then report back to Marshal McBride.','My scouts tell me that the kobold infestation is larger than we had thought. \nA group of Kobold Workers has camped near the Echo Ridge Mine to the north.\n\nGo to the mine and remove them. We know there are at least 8. Kill them, \nsee if there are more, then report back to me. ','','I don\'t like hearing of all these kobolds in our mine.  No good can come \nof this.  Here, take this as payment, and when you\'re ready, speak to me \nagain.  I would like you to go back to the mines one more time... ',3,1,4,4,250,20,1,1,0),(3,'Skirmish at Echo Ridge','Kill 8 Kobold Laborers, then return to Marshal McBride at Northshire Abbey.','Your previous investigations are proof that the Echo Ridge Mine needs \npurging. Return to the mine and help clear it of kobolds.\n\nWaste no time. The longer the kobolds are left unmolested in the mine, \nthe deeper a foothold they gain in Northshire. ','','Once again, you have earned my respect, and the gratitude of the \nStormwind Army.  There may yet be kobolds in the mine, but I will \nmarshal others against them.  We have further tasks for you. ',5,2,4,4,500,330,1,1,0),(4,'Wolves Across the Border','Bring 8 pieces of Tough Wolf Meat to Eagan Peltskinner outside Northshire Abbey.','I hate those nasty timber wolves! But I sure like eating wolf steaks... \nBring me tough wolf meat and I will exchange it for something you\'ll\n find useful.\n\nTough wolf meat is gathered from hunting the timber wolves and \nyoung wolves wandering the Northshire countryside.','I\'m getting hungry...did you get that tough wolf meat? ','You\'ve been busy!  I can\'t wait to cook up that wolf meat...\n\r',2,6,5,5,170,0,1,1,0),(5,'Brotherhood of Thieves','Bring 8 Red Burlap Bandanas to Deputy Willem outside the Northshire Abbey. ','Recently, a new group of thieves has been hanging around \nNorthshire. They call themselves the Defias Brotherhood, and have\nbeen seen across the river to the east.\n\nI don\'t know what they\'re up to, but I\'m sure it\'s not good! Bring me \nthe bandanas they wear, and I\'ll reward you with a weapon. ','Have you gathered those bandanas for me yet? ','Back with some bandanas, I see.  The Stormwind Army appreciates your help. ',4,6,6,6,360,0,1,2,0),(6,'A Threat Within','Speak with Marshal McBride. ','I hope you strapped your belt on tight, because there is work \n\rto do here in Northshire.\n\r\n\rAnd I don\'t mean farming.\n\r\n\rThe Stormwind guards are hard pressed to keep the peace here, \n\rwith so many of us in distant lands and so many threats pressing \n\rclose. And so we\'re enlisting the aid of anyone willing to defend \n\rtheir home. And their alliance.\n\r\n\rIf you\'re here to answer the call, then speak with my superior, \n\rMarshal McBride. He\'s inside the abbey to the north.\n\r','','Ah, good.  Another volunteer.  We\'re getting a lot of you these days.\n\nI hope it\'s enough.\n\nOur lands are threatened from without, and so many of our forces\nhave been marshaled abroad.  This, in turn, leaves room for corrupt \nand lawless groups to thrive within our borders.\n\nIt is a many-fronted battle we wage.  Gird yourself for a long campaign. ',1,0,6,4,50,0,0,1,0),(7,'Milly Osworth','Speak with Milly Osworth. ','You\'ve shown yourself to be dependable. Dependable, and not \nafraid to get your hands dirty, eh?\n\nI have a friend, Milly Osworth, who\'s in some trouble. She\'s over \nwith her wagon on the other side of the abbey, near the stable. I\'m \nsure she could use a pair of hands like yours. ','','Oh, Deputy Willem told you to speak with me?  He\'s a brave \nman and always willing to help, but his duties keep him stuck \nat Northshire Abbey and I\'m afraid the problem I have today is \nbeyond him.\n\nPerhaps you can help me? ',4,5,6,7,50,0,1,2,0),(8,'Eagan Peltskinner','Speak with Eagan Peltskinner.','Eagan Peltskinner is looking for someone to hunt wolves for him. \n\rThat\'s good news, because we\'re seeing a lot more wolves in \n\rNorthshire Valley lately.\n\r\n\rIf you\'re interested then speak with Eagan. He\'s around the \n\rside of the abbey, to the west.\n\r','','That\'s true. I\'m looking for someone to hunt me some wolves! \nAre you that person?',1,6,6,5,100,0,1,1,4),(9,'Milly\'s Harvest','Bring 8 crates of Milly\'s Harvest to Milly Osworth at Northshire Abbey. ','A gang of brigands, the Defias, moved into the Northshire Vineyards while I was \n\rharvesting! I reported it to the Northshire guards and they assured me they\'d \n\rtake care of things, but... I\'m afraid for my crop of grapes! If the Defias \n\rdon\'t steal them then I fear our guards will trample them when they chase away \n\rthe thugs.\n\r\n\rPlease, you must help me! I gathered most of my grapes into buckets, but I left \n\rthem in the vineyards to the southeast.\n\r\n\rBring me those buckets! Save my harvest! \n\r','Do you have my harvest?\n\n','Oh thank you! You saved my harvest!  And I hope you showed a few of those Defias that they can\'t cause trouble around here.\n\n\nWe might be short on guards these days, but we\'re lucky to have heroes like you to protect us! \n\n',4,7,7,7,200,0,1,2,0),(10,'Rest and Relaxation','Speak with Innkeeper Farley at the Lion\'s Pride Inn.','Every adventurer should rest when exhaustion sets in - and there is no finer place to get rest and relaxation than at the Lion\'s Pride Inn!\n\r\n\rMy best friend, Innkeeper Farley, runs the Lion\'s Pride. If you tell him I sent you, he may give you the special discounted rates on food and drink.\n\r\n\rTo find the Lion\'s Pride Inn, travel south along the road from here -- you can\'t miss it! \n\r','','Rest and relaxation for the tired and cold -- that\'s our motto! Please, take a seat by the fire and rest your weary bones.\n\r\n\rWould you like to try a sampling of some of our fine food and drink? \n\r',5,0,11,19,100,0,1,1,0),(11,'Bounty on Garrick Padfoot','Kill Garrick Padfoot and bring his head to Deputy Willem at Northshire Abbey.','Garrick Padfoot - a cutthroat who\'s plagued our farmers and merchants for weeks - was seen at a shack near the vineyards, which lies east of the Abbey and across the bridge. Bring me the villain\'s head, and earn his bounty!\n\r\n\rBut be wary. Garrick has gathered a gang of thugs around him. He will not be an easy man to reach.\n\r','Did you find Garrick\'s shack? Are we finally free of that villain?\n\r','Hah - you caught him! You\'ve done Elwynn a great service, and earned a nice bounty!\n\r',5,5,6,6,350,0,1,3,0),(12,'Grape Manifest','Bring the Grape Manifest to Brother Neals in Northshire Abbey.','Now that my crop is saved, take this Grape Manifest to Brother Neals. He manages the store of food and drink in Northshire, and I\'m sure he\'ll be delighted to hear that he has fresh grapes.\n\r\n\rYou\'ll find Brother Neals in the abbey, in the bell tower... where he likes to taste his wine.\n\r','You look to be in fine spirits! Come! Have a seat, and have a drink!\n\r','Let\'s see here...\n\r\n\rOh my! Milly\'s grapes have been saved! When she told me that brigands overran her vineyards I nearly despaired, but my faith in the Light did not waver!\n\r\n\rAnd through your bravery, we now have grapes for more wine! May the Light bless you, and keep you safe!\n\r',4,9,7,12,360,0,0,3,0),(13,'Report to Goldshire','Take Marshal McBride\'s Documents to Marshal Dughan in Goldshire.','You have proven interest in the security of Northshire. You are now tasked with the protection of the surrounding Elwynn Forest.\n\r\n\rIf you accept this duty, then I have prepared papers that must be delivered to Marshal Dughan in Goldshire. Goldshire lies along the southern road, past the border gates.\n\r','You have word from McBride? Northshire is a garden compared to Elwynn Forest, but I wonder what Marshal McBride has to report.\n\r\n\rHere, let me have his papers...\n\r','Well, it says here that you\'ve been awarded Acting Deputy Status with the Stormwind Marshals. Congratulations.\n\r\n\rAnd good luck - keeping Elwynn safe is no picnic... what with most the army busy doing who knows what for who knows which noble!\n\r\n\rIt\'s hard to keep track of politics in these dark days...\n\r',5,3,4,17,230,0,1,3,14),(14,'The Fargodeep Mine','Explore the Fargodeep Mine, then return to Marshal Dughan in Goldshire.','The mine in Northshire isn\'t the only one with problems! I have reports that the Fargodeep Mine in Elwynn has also become a haven for Kobolds.\n\r\n\rExplore the mine and confirm these reports, then return to me. The mine is almost due south of Goldshire, between the Stonefield and Maclure homesteads.\n\r','What do you have to report? Have you been to the Fargodeep Mine?\n\r','This is bad news. What\'s next, dragons?!? We\'ll have to increase our patrols near that mine. Thanks for your efforts. And hold a moment... I might have another task for you.\n\r',7,0,17,17,480,75,1,4,0),(15,'The Last Element','Travel to Blackrock Depths and recover 10 Essence of the Elements. Your first inclination is to search the golems and golem makers. You remember Vivian Lagrave also muttering something about elementals.','There is work to be had for those venturing into the depths.\n\r\n\rThe Dark Irons have mastered creation of extremely powerful golems.\n\r\n\rInitial reports from our spies indicate that the dwarves use a unique power source to give their creations incomparable killing power.\n\r\n\rJust imagine what we could do with our abominations if we could get our hands on this essence of the elements! Turn that city upside down if you must, but do not return until you have found the essence! Payment will be worth the risk.\n\r','Show them to me! \n\r','Wonderful! I will have these sent by courier to the Undercity at once!\n\r\n\rAs for you - here is payment, as promised. Keep the change, you filthy beast! \n\r',234,0,26,26,2180,245,0,228,0),(16,'Incendius!','Find Lord Incendius in Blackrock Depths and destroy him!','Are you sure Pyron said \'Incendius\' when he died?\n\r\n\r<Jalinda swallows hard.>\n\r\n\rLord Incendius is purported to be a minion of Ragnaros! Oh dear, oh dear... whatever will we do?\n\r\n\rDo you think you can handle another mission? I don\'t have anybody else to send!\n\r\n\rWe will never get a team in if Incendius continues to raise Pyron from the ashes.\n\r\n\rYou\'ll have to find and destroy Lord Incendius!\n\r','Is the fiend dead??\n\r','Oh dear! Are you sure Incendius said \'Ragnaros?\'\n\r\n\r<Jalinda hands you something and pats you on the wrist as she fades deep into thought.>\n\r',236,0,27,27,2320,85,0,228,0);
/*!40000 ALTER TABLE `quests` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `resets`
--

DROP TABLE IF EXISTS `resets`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `resets` (
  `room_id` int(11) NOT NULL,
  `id` int(11) NOT NULL,
  `type` int(11) DEFAULT NULL,
  `target_id` int(11) DEFAULT NULL,
  `wander_dist` int(11) DEFAULT NULL,
  `leash_dist` int(11) DEFAULT NULL,
  `interval` int(11) DEFAULT NULL,
  PRIMARY KEY (`room_id`,`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `resets`
--

LOCK TABLES `resets` WRITE;
/*!40000 ALTER TABLE `resets` DISABLE KEYS */;
INSERT INTO `resets` VALUES (2,1,1,6,0,0,30),(3,1,1,4,0,0,30),(4,1,1,16,0,0,30),(4,2,1,14,0,0,30),(7,1,1,2,0,0,120),(7,2,1,3,0,0,120),(13,1,1,20,0,0,30),(14,1,1,21,0,0,30),(17,1,1,12,0,0,30),(18,1,1,15,0,0,30),(18,2,1,13,0,0,30),(23,1,1,11,0,0,30),(27,1,1,2,0,0,120),(28,1,1,2,0,0,120),(29,1,1,3,0,0,120),(30,1,1,3,0,0,120),(32,1,1,3,0,0,120),(33,1,1,2,0,0,120),(34,1,1,5,0,0,30),(35,1,1,2,0,0,120),(35,2,1,8,0,0,120),(36,1,1,8,0,0,120),(38,1,1,3,0,0,120),(40,1,1,9,0,0,120),(42,1,1,8,0,0,120),(43,1,1,8,0,0,120),(43,2,1,8,0,0,120),(46,1,1,9,0,0,120),(47,1,1,9,0,0,120),(48,1,1,9,0,0,120),(48,2,1,9,0,0,120),(49,1,1,10,0,0,120),(50,1,1,10,0,0,120),(62,1,1,2,0,0,120),(63,1,1,2,0,0,120),(65,1,1,2,0,0,120),(65,2,1,3,0,0,120),(68,1,1,8,0,0,120),(70,1,1,8,0,0,120),(72,1,1,8,0,0,120),(72,2,1,8,0,0,120),(74,1,1,9,0,0,120),(74,2,1,9,0,0,120),(76,1,1,9,0,0,120),(80,1,1,3,0,0,120),(84,1,1,7,0,0,30),(85,1,1,2,0,0,120),(86,1,1,3,0,0,120),(87,1,1,3,0,0,120),(88,1,1,23,0,0,120),(88,2,2,22,0,0,30),(92,1,1,23,0,0,120),(94,1,1,22,0,0,120),(95,1,1,18,0,0,120),(95,2,1,23,0,0,120),(96,1,1,22,0,0,120),(96,2,1,23,0,0,120),(97,1,1,22,0,0,120),(97,2,1,23,0,0,120),(98,1,1,22,0,0,120),(100,1,1,23,0,0,120),(102,1,1,22,0,0,120),(106,1,1,22,0,0,120),(108,1,1,22,0,0,120),(109,1,1,10,0,0,120),(110,1,1,10,0,0,120),(111,1,1,10,0,0,120),(112,1,1,10,0,0,120),(113,1,1,10,0,0,120),(115,1,1,10,0,0,120),(116,1,1,10,0,0,120),(117,1,1,10,0,0,120),(118,1,1,10,0,0,120),(120,1,1,10,0,0,120),(125,1,1,24,0,0,1800),(125,2,1,29,0,0,1800),(126,1,1,26,0,0,30),(126,2,1,27,0,0,30),(127,1,1,25,0,0,1800),(131,1,1,35,0,0,1800),(132,1,1,29,0,0,1800),(132,3,1,30,0,0,1800),(132,4,1,31,0,0,1800),(132,5,1,32,0,0,1800),(133,1,1,35,0,0,1800),(136,1,1,35,0,0,1800),(160,1,1,29,0,0,1800),(160,2,1,32,0,0,1800),(161,1,1,30,0,0,1800),(161,2,1,31,0,0,1800),(162,1,1,29,0,0,1800),(162,2,1,32,0,0,1800),(174,1,1,33,0,0,7200),(180,1,1,25,0,0,1800),(181,1,1,25,0,0,1800),(182,1,1,25,0,0,1800),(183,1,1,25,0,0,1800),(184,1,1,25,0,0,1800),(184,2,1,25,0,0,1800),(185,1,1,25,0,0,1800),(185,2,1,25,0,0,1800),(188,1,1,28,0,0,1800);
/*!40000 ALTER TABLE `resets` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `rooms`
--

DROP TABLE IF EXISTS `rooms`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `rooms` (
  `id` int(11) NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  `description` text,
  `area` int(11) DEFAULT NULL,
  `flags` tinytext,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `rooms`
--

LOCK TABLES `rooms` WRITE;
/*!40000 ALTER TABLE `rooms` DISABLE KEYS */;
INSERT INTO `rooms` VALUES (1,'The One Room','One Room to rule them all.\n\r',0,''),(2,'On the Steps of Northshire Abbey','',1,'0;'),(3,'Northshire Abbey','',1,''),(4,'Dermot\'s Wagon','',1,''),(5,'Northshire Valley','',1,''),(6,'Northshire Valley','',1,''),(7,'Northshire Valley','',1,''),(8,'Northshire Valley','',1,''),(9,'Northshire Road','',1,''),(10,'Northshire Abbey','',1,''),(11,'Northshire Abbey','',1,''),(12,'Main Hall','',1,''),(13,'Library Wing','',1,''),(14,'Hall of Arms','',1,''),(15,'Main Hall','',1,''),(16,'Northshire Abbey','',1,''),(17,'Northshire Abbey Bell Tower','',1,''),(18,'Dermot\'s Wagon','',1,''),(19,'Northshire Road','',1,''),(20,'Northshire Road','',1,''),(21,'Northshire Valley Gate','',1,''),(22,'Northshire Valley Gate','',1,''),(23,'Elwynn Forest Road','',2,''),(24,'Northshire Valley','',1,''),(25,'Northshire Valley','',1,''),(26,'Northshire Valley','',1,''),(27,'Northshire Valley','',1,''),(28,'Northshire Valley','',1,''),(29,'Northshire Valley','',1,''),(30,'Northshire Valley','',1,''),(31,'Northshire Valley','',1,''),(32,'Northshire Valley','',1,''),(33,'Northshire Valley','',1,''),(34,'Northshire Valley','',1,''),(35,'Northshire Valley','',1,''),(36,'Northshire Valley','',1,''),(37,'Northshire Valley','',1,''),(38,'Northshire Valley','',1,''),(39,'Northshire Valley','',1,''),(40,'Northshire Valley','',1,''),(41,'Northshire Valley','',1,''),(42,'Northshire Valley','',1,''),(43,'Northshire Valley','',1,''),(44,'Northshire Valley','',1,''),(45,'Northshire Valley','',1,''),(46,'Northshire Valley','',1,''),(47,'Northshire Valley','',1,''),(48,'Northshire Valley','',1,''),(49,'Entrance to Echo Ridge Mine','',1,''),(50,'Echo Ridge Mine','',1,''),(51,'Behind Northshire Abbey','',1,''),(52,'Behind Northshire Abbey','',1,''),(53,'Behind Northshire Abbey','',1,''),(54,'Northshire Valley','',1,''),(55,'Northshire Valley','',1,''),(56,'Northshire River','',1,''),(57,'Northshire River','',1,''),(58,'Northshire River','',1,''),(59,'A Bridge Over Northshire River','',1,''),(60,'Northshire River','',1,''),(61,'Northshire River','',1,''),(62,'Northshire Valley','',1,''),(63,'Northshire Valley','',1,''),(64,'Northshire Valley','',1,''),(65,'Northshire Valley','',1,''),(66,'An Impassable Waterfall','',1,''),(67,'Northshire Valley','',1,''),(68,'Northshire Valley','',1,''),(69,'Northshire Valley','',1,''),(70,'Northshire Valley','',1,''),(71,'Northshire Valley','',1,''),(72,'Northshire Valley','',1,''),(73,'Northshire Valley','',1,''),(74,'Northshire Valley','',1,''),(75,'Northshire Valley','',1,''),(76,'Northshire Valley','',1,''),(77,'Northshire Valley','',1,''),(78,'Northshire Valley','',1,''),(79,'Northshire Valley','',1,''),(80,'Northshire Valley','',1,''),(81,'Northshire Valley','',1,''),(82,'Northshire Valley','',1,''),(83,'Northshire Valley','',1,''),(84,'Northshire Stables','',1,''),(85,'Northshire Valley','',1,''),(86,'Northshire Valley','',1,''),(87,'Northshire Valley','',1,''),(88,'Northshire Vineyards','',1,''),(89,'Northshire Vineyards','',1,''),(90,'Northshire Vineyards','',1,''),(91,'Northshire Vineyards','',1,''),(92,'Northshire Vineyards','',1,''),(93,'Northshire Vineyards','',1,''),(94,'Northshire Vineyards','',1,''),(95,'Defias Camp','',1,''),(96,'Defias Camp','',1,''),(97,'Defias Camp','',1,''),(98,'Northshire Valley','',1,''),(99,'Northshire Valley','',1,''),(100,'Northshire Vineyards','',1,''),(101,'Northshire Vineyards','',1,''),(102,'Northshire Vineyards','',1,''),(103,'Northshire Vineyards','',1,''),(104,'Northshire Vineyards','',1,''),(105,'Northshire Vineyards','',1,''),(106,'Northshire Vineyards','',1,''),(107,'Northshire Vineyards','',1,''),(108,'Northshire Vineyards','',1,''),(109,'Echo Ridge Mine','',1,''),(110,'Echo Ridge Mine','',1,''),(111,'Echo Ridge Mine','',1,''),(112,'Echo Ridge Mine','',1,''),(113,'Echo Ridge Mine','',1,''),(114,'Echo Ridge Mine','',1,''),(115,'Echo Ridge Mine','',1,''),(116,'Echo Ridge Mine','',1,''),(117,'Echo Ridge Mine','',1,''),(118,'Echo Ridge Mine','',1,''),(119,'Echo Ridge Mine','',1,''),(120,'Echo Ridge Mine','',1,''),(121,'A Small Cemetery','',1,''),(122,'Northshire Valley','',1,''),(123,'Detention Block','',3,'0;'),(124,'Shadowforge Gate','',3,''),(125,'Detention Block','',3,''),(126,'Detention Block','',3,''),(127,'Shadowforge Gate','',3,''),(128,'Shadowforge Gate','',3,''),(129,'Shadowforge Gate','',3,''),(130,'Detention Block','',3,''),(131,'Detention Block','',3,''),(132,'Dark Iron Highway','',3,''),(133,'Dark Iron Highway','',3,''),(134,'Dark Iron Highway','',3,''),(135,'','',3,''),(136,'Detention Block','',3,''),(137,'Detention Block','',3,''),(138,'Detention Block','',3,''),(139,'Detention Block','',3,''),(140,'Detention Block','',3,''),(141,'Detention Block','',3,''),(142,'Detention Block','',3,''),(143,'Detention Block','',3,''),(144,'','',3,''),(145,'','',3,''),(146,'','',3,''),(147,'','',3,''),(148,'','',3,''),(149,'','',3,''),(150,'','',3,''),(151,'','',3,''),(152,'','',3,''),(153,'','',3,''),(154,'','',3,''),(155,'','',3,''),(156,'','',3,''),(157,'','',3,''),(158,'','',3,''),(159,'','',3,''),(160,'Dark Iron Highway','',3,''),(161,'Dark Iron Highway','',3,''),(162,'Dark Iron Highway','',3,''),(163,'Dark Iron Highway','',3,''),(164,'Dark Iron Highway','',3,''),(165,'Dark Iron Highway','',3,''),(166,'Dark Iron Highway','',3,''),(167,'Dark Iron Highway','',3,''),(168,'Dark Iron Highway','',3,''),(169,'Dark Iron Highway','',3,''),(170,'Dark Iron Highway','',3,''),(171,'Dark Iron Highway','',3,''),(172,'Dark Iron Highway','',3,''),(173,'Dark Iron Highway','',3,''),(174,'Dark Iron Highway','',3,''),(175,'Dark Iron Highway','',3,''),(176,'Shadowforge City','',3,''),(177,'Shadowforge City','',3,''),(178,'Shadowforge City','',3,''),(179,'Shadowforge City','',3,''),(180,'Shadowforge City','',3,''),(181,'Shadowforge City','',3,''),(182,'Shadowforge City','',3,''),(183,'Shadowforge City','',3,''),(184,'Shadowforge City','',3,''),(185,'The Black Anvil','',3,''),(186,'The Black Anvil','',3,''),(187,'The Black Anvil','',3,''),(188,'The Black Anvil','',3,'');
/*!40000 ALTER TABLE `rooms` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `skills`
--

DROP TABLE IF EXISTS `skills`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `skills` (
  `id` int(11) NOT NULL,
  `long_name` varchar(100) NOT NULL,
  `name` varchar(100) NOT NULL,
  `cooldown` double NOT NULL,
  `flags` tinytext,
  `target_type` int(11) NOT NULL,
  `description` tinytext,
  `cost_description` tinytext,
  `cast_time` double NOT NULL,
  `interrupt_flags` varchar(15) DEFAULT NULL,
  `function_name` varchar(100) DEFAULT NULL,
  `cast_script` text,
  `apply_script` text,
  `tick_script` text,
  `remove_script` text,
  `cost_script` text,
  PRIMARY KEY (`id`),
  UNIQUE KEY `long_name_UNIQUE` (`long_name`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `skills`
--

LOCK TABLES `skills` WRITE;
/*!40000 ALTER TABLE `skills` DISABLE KEYS */;
INSERT INTO `skills` VALUES (1,'Recall','Recall',1800,'',0,'Return to a preset location. Set with \"recall\" command.','50% of total mana',10,'0;1;','skill_recall','function skill_recall_cast(caster, target, skill)\n  caster:Send(\"|WYou have completed your spell.|X\\r\\n\")\n  caster:Message(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() ..\" spell.|X\", MSG_ROOM_NOTCHAR, nil)\n  caster:ConsumeMana(math.ceil(caster:GetMaxMana()/2))\n  caster:Message(\"|W\" .. caster:GetName() .. \" disappears in a flash of light.|X\", MSG_ROOM_NOTCHAR, nil)\n  caster:ChangeRoomsID(caster:GetRecall())\n  caster:Message(\"|W\" .. caster:GetName() .. \" appears in a flash of light.|X\", MSG_ROOM_NOTCHAR, nil)\n  caster:Look(\"\")\nend\n','','','','function skill_recall_cost(caster, target, skill)\n  if(caster:GetRecall() == 0) then\n      caster:Send(\"You must set your recall location first.\\r\\n\")\n      return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, math.ceil(caster:GetMaxMana()/2))) then\n      caster:Send(\"You don\'t have enough mana.\\r\\n\")\n      return 0\n  end\n  return 1\nend\n'),(2,'Fireball 1','Fireball',0,'',2,'Launches a ball of fire at the enemy, causing 14 + 22% of intellect damage','10 mana',2.5,'0;','skill_fireball_1','function skill_fireball_1_cast(caster, target, skill)\n  caster:ConsumeMana(10)\n  local damage = math.ceil(14 + 0.22 * caster:GetIntellect())\n  local absorbed = target:HandleDamageAbsorb(damage);\n\n  caster:Send(\"|WYour fireball hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n  if(absorbed > 0) then\n    caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n  end\n  caster:Send(\".|X\\r\\n\")\n\n  target:Send(\"|W\" .. caster:GetName() .. \"\'s fireball hits you for \" .. (damage - absorbed) .. \" damage\")\n  if(absorbed > 0) then\n    target:Send(\" (\" .. absorbed .. \" absorbed)\")\n  end\n  target:Send(\".|X\\r\\n\")\n\n  caster:Message(\"|W\" .. caster:GetName() .. \"\'s fireball hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  damage = damage - absorbed\n  caster:OneHit(target, damage)\nend\n','','','','function skill_fireball_1_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 10)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(3,'Heal 1','Heal',0,'',4,'Heal a friendly target for 30 + 40% of intellect','40 mana',3,'0;','skill_heal_1','function skill_heal_1_cast(caster, target, skill)\n  local healval = math.ceil(30 + 0.4 * caster:GetIntellect())\n\n  if(caster == target) then\n    if(healval > (caster:GetMaxHealth() - caster:GetHealth())) then\n      healval = caster:GetMaxHealth() - caster:GetHealth()\n    end\n    caster:Send(\"|WYou have completed your spell. You gain \" .. healval .. \" health.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() ..\" spell. \" .. caster:GetName() .. \" gains \" .. healval .. \" health.|X\", MSG_ROOM_NOTCHAR, nil)\n  else\n    if(healval > (target:GetMaxHealth() - target:GetHealth())) then\n      healval = target:GetMaxHealth() - target:GetHealth()\n    end\n    caster:Send(\"|WYou have completed your spell. \" .. target:GetName() .. \" gains \" .. healval .. \" health.|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() .. \" spell. You gain \" .. healval .. \" health.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() ..\" spell. \" .. target:GetName() .. \" gains \" .. healval .. \" health.|X\", MSG_ROOM_NOTCHARVICT, target)\n  end\n  caster:ConsumeMana(40)\n  caster:OneHeal(target, healval)\nend\n','','','','function skill_heal_1_cost(caster, target, skill)\n  if(not caster:CanHeal(target)) then\n    caster:Send(\"You can\'t heal that target.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 40)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  if(caster:IsFighting(target)) then\n    caster:Send(\"You can\'t heal the target you\'re attacking.\\n\\r\")\n    return\n  end\n  return 1\nend\n'),(4,'Frost Nova','Frost Nova',25,'',5,'All hostile targets in the room are unable to move for 8 seconds','200 mana',0,'0;','skill_frost_nova','function skill_frost_nova_cast(caster, target, sk)\n  caster:Send(\"|WYou cast Frost Nova.\\n\\r|X\")\n  caster:Message(\"|W\" .. caster:GetName() .. \" casts Frost Nova.|X\", MSG_ROOM_NOTCHAR, nil)\n  caster:ConsumeMana(200)\n  for index, ch in pairs(caster:GetRoom().characters) do\n    if(caster:CanAttack(ch)) then\n      ch:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Frost Nova\", SPELLAFFECT_VISIBLE, 1, 0, 8, AFFECT_MAGIC, sk, \"Frozen in place\")\n      --ch:Send(\"You are affected by \" .. caster:GetName() .. \"\'s frost nova and unable to move.\\n\\r\")\n      caster:Send(\"|W\" .. ch:GetName() .. \" is affected by your Frost Nova and unable to move.|X\\n\\r\")\n      caster:Message(\"|W\" .. ch:GetName() .. \" is affected by \" .. caster:GetName() .. \"\'s Frost Nova and unable to move.|X\", MSG_ROOM_NOTCHARVICT, ch)\n      caster:EnterCombat(ch)\n      ch:EnterCombat(caster)\n    end\n  end\nend\n','function skill_frost_nova_apply(caster, target, affect)\n  affect:ApplyAura(AURA_MOVE_SPEED, -999)\nend\n','','function skill_frost_nova_remove(caster, target, affect)\r\n  target:Send(\"|WFrost nova fades from you.|X\\n\\r\")\r\n  if(caster ~= nil) then\r\n    caster:Send(\"|WYour frost nova fades from \" .. target:GetName() .. \".|X\\n\\r\")\r\n    target:Message(\"|W\" .. caster:GetName() .. \"\'s frost nova fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\r\n  else\r\n    target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s frost nova fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHAR, nil)\r\n  end\r\nend\r\n','function skill_frost_nova_cost(caster, target, skill)\n  if(not caster:HasResource(RESOURCE_MANA, 200)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(5,'Renew 1','Renew',0,'',4,'Heals the target for 45 + 50% of intellect health over 15 seconds','30 mana',0,'0;','skill_renew_1','function skill_renew_1_cast(caster, target, sk)\n  caster:ConsumeMana(30)\n  local healpertick = math.ceil((45 + caster:GetIntellect() * 0.5) / 5)\n  if(caster ~= target) then\n    caster:Send(\"|WYou cast Renew on \" .. target:GetName() .. \".|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \" casts Renew on you.|X\\n\\r\")\n  else\n    caster:Send(\"|WYou cast Renew on yourself.|X\\n\\r\")\n  end\n  caster:Message(\"|W\" .. caster:GetName() .. \" casts Renew on \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n  target:AddSpellAffect(SPELLAFFECT_BUFF, caster, \"Renew\", SPELLAFFECT_VISIBLE, 1, 5, 15.0, AFFECT_MAGIC, sk, \"Healing \" .. healpertick .. \" health every 3 seconds\")\nend\n','function skill_renew_1_apply(caster, target, affect)\n  if(caster == target) then\n    target:Send(\"|WYou are affected by Renew.|X\\n\\r\")\n  else\n    caster:Send(\"|W\" .. target:GetName() .. \" is affected by your Renew.|X\\n\\r\")\n    target:Send(\"|WYou are affected by \" .. caster:GetName() .. \"\'s Renew.|X\\n\\r\")\n  end\nend\n','function skill_renew_1_tick(caster, target, affect)\n  local healpertick = math.ceil((45 + caster:GetIntellect() * 0.5) / 5)\n  local actualheal = healpertick\n\n  if(healpertick > (target:GetMaxHealth() - target:GetHealth())) then\n    actualheal = target:GetMaxHealth() - target:GetHealth()\n  end\n\n  --caster may be nil in tick and remove functions\n  if(affect:GetCasterName() == target:GetName()) then\n      target:Send(\"|WYour Renew restores \" .. actualheal .. \" health.|X\\n\\r\")\n  else\n    if(caster ~= nil) then\n      caster:Send(\"|WYour Renew heals \" .. target:GetName() .. \" for \" .. actualheal .. \" health.|X\\n\\r\")\n    end\n    target:Send(\"|W\" .. affect:GetCasterName() .. \"\'s Renew restores \" .. actualheal .. \" health.|X\\n\\r\")\n  end\n  target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s Renew heals \" .. target:GetName() .. \" for \" .. actualheal .. \" health.|X\", MSG_ROOM_NOTCHARVICT, caster)\n\n  if(caster ~= nil) then\n    caster:OneHeal(target, actualheal)\n  else\n    target:AdjustHealth(caster, actualheal)\n  end\nend\n','function skill_renew_1_remove(caster, target, affect)\n  --caster may be nil in tick and remove functions\n  if(affect:GetCasterName() == target:GetName()) then\n    target:Send(\"|WYour Renew fades.|X\\n\\r\")\n  else\n    if(caster ~= nil) then\n      caster:Send(\"|WYour Renew fades from \" .. target:GetName() .. \".|X\\n\\r\")\n    end\n    target:Send(\"|W\" .. affect:GetCasterName() .. \"\'s Renew fades from you.|X\\n\\r\")\n  end\n  target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s Renew fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\nend\n','function skill_renew_1_cost(caster, target, skill)\n  if(not caster:CanHeal(target)) then\n    caster:Send(\"You can\'t heal that target.\\n\\r\")\n    return 0\n  end\n  if(caster:IsFighting(target)) then\n    caster:Send(\"You can\'t heal the target you\'re attacking.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 30)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(6,'Hamstring','Hamstring',0,'',2,'Reduces movement speed of the target by 50% for 15 seconds','10 rage',0,'0;','skill_hamstring','function skill_hamstring_cast(caster, target, sk)\n  caster:ConsumeRage(10)\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  local attack = caster:DoAttackRoll(target, SCHOOL_PHYSICAL)\n  if(attack == ATTACK_MISS) then\n    caster:Send(\"|WYour Hamstring misses \" .. target:GetName() .. \"|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Hamstring misses you.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Hamstring misses \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_DODGE) then\n    caster:Send(\"|W\" .. target:GetName() .. \" dodges your Hamstring.|X\\n\\r\")\n    target:Send(\"|WYou dodge \" .. caster:GetName() .. \"\'s Hamstring.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" dodges \" .. caster:GetName() .. \"\'s Hamstring.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_PARRY) then\n    caster:Send(\"|W\" .. target:GetName() .. \" parries your Hamstring.|X\\n\\r\")\n    target:Send(\"|WYou parry \" .. caster:GetName() .. \"\'s Hamstring.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" parries \" .. caster:GetName() .. \"\'s Hamstring.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  end\n  target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Hamstring\", SPELLAFFECT_VISIBLE, 1, 0, 15, AFFECT_NONE, sk, \"Movement speed reduced by 50%\")\n  caster:Send(\"|W\" .. target:GetName() .. \" is affected by your Hamstring.|X\\n\\r\")\n  target:Send(\"|WYou are affected by \" .. caster:GetName() .. \"\'s Hamstring.|X\\n\\r\")\n  caster:Message(\"|W\" .. target:GetName() .. \" is affected by \" .. caster:GetName() .. \"\'s Hamstring.|X\", MSG_ROOM_NOTCHARVICT, target)\nend\n','function skill_hamstring_apply(caster, target, affect)\n  affect:ApplyAura(AURA_MOVE_SPEED, -50)\nend\n','','function skill_hamstring_remove(caster, target, affect)\n  target:Send(\"|WHamstring fades from you.|X\\n\\r\")\n  if(caster ~= nil) then\n    caster:Send(\"|WYour hamstring fades from \" .. target:GetName() .. \".|X\\n\\r\")\n    caster:Message(\"|W\" .. affect:GetCasterName() .. \"\'s hamstring fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n  else\n    target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s hamstring fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHAR, nil)\n  end\nend\n','function skill_hamstring_cost(caster, target, skill)\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_RAGE, 10)) then\n      caster:Send(\"You don\'t have enough rage.\\n\\r\")\n      return 0\n  end\n  return 1\nend\n'),(7,'Greater Heal 1','Greater Heal',0,'',4,'A slow casting spell that heals a single target for 950 + 100% of intellect','370 mana',3,'0;','skill_greater_heal_1','function skill_greater_heal_1_cast(caster, target, skill)\n  local healval = math.ceil(950 + caster:GetIntellect())\n  local overheal = \"\"\n  if(caster == target) then\n    if(healval > (caster:GetMaxHealth() - caster:GetHealth())) then\n      overheal =  \" (\" .. (healval - (caster:GetMaxHealth() - caster:GetHealth())) .. \" overheal)\" \n      healval = caster:GetMaxHealth() - caster:GetHealth()\n    end\n    caster:Send(\"|WYou have completed your spell. You gain \" .. healval .. \" health\")\n    if(overheal ~= 0) then\n      caster:Send(overheal)\n    end\n    caster:Send(\".|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() ..\" spell. \" .. caster:GetName() .. \" gains \" .. healval .. \" health.|X\", MSG_ROOM_NOTCHAR, nil)\n  else\n    if(healval > (target:GetMaxHealth() - target:GetHealth())) then\n      overheal =  \" (\" .. (healval - (target:GetMaxHealth() - target:GetHealth())) .. \" overheal)\" \n      healval = target:GetMaxHealth() - target:GetHealth()\n    end\n    caster:Send(\"|WYou have completed your spell. \" .. target:GetName() .. \" gains \" .. healval .. \" health\")\n    if(overheal ~= 0) then\n      caster:Send(overheal)\n    end\n    caster:Send(\".|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() .. \" spell. You gain \" .. healval .. \" health.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() ..\" spell. \" .. target:GetName() .. \" gains \" .. healval .. \" health.|X\", MSG_ROOM_NOTCHARVICT, target)\n  end\n  caster:ConsumeMana(370)\n  caster:OneHeal(target, healval)\nend\n','','','','function skill_greater_heal_1_cost(caster, target, skill)\n  if(not caster:CanHeal(target)) then\n    caster:Send(\"You can\'t heal that target.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 370)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  if(caster:IsFighting(target)) then\n    caster:Send(\"You can\'t heal the target you\'re attacking.\\n\\r\")\n    return\n  end\n  return 1\nend\n'),(8,'Zot','Zot',0,'',3,'health, mana = 1','none',0,'0;','skill_zot','function skill_zot_cast(caster, target, skill)\n  caster:Send(\"|YYou send a bolt of lightning to strike \" .. target:GetName() .. \".|X\\n\\r\")\n  target:Send(\"|YZOT! You are struck by a bolt of lightning!|X\\n\\r\")\n  target:Message(\"|YZOT! \" .. target:GetName() .. \" is struck by a bolt of lightning!|X\", MSG_ROOM_NOTCHAR, nil)\n  target:AdjustHealth(caster, -(target:GetHealth() - 1))\n  target:AdjustMana(caster, -(target:GetMana() - 1))\nend\n','','','','function skill_zot_cost(caster, target, skill)\n  return 1\nend\n'),(9,'Sprint','Sprint',240,'',0,'Increases your movement speed by 70% for 15 seconds','none',0,'0;','skill_sprint','function skill_sprint_cast(caster, target, sk)\n  caster:Send(\"|WYou cast sprint.|X\\n\\r\")\n  caster:Message(\"|W\" .. caster:GetName() .. \" casts sprint.|X\", MSG_ROOM_NOTCHAR, nil)\n  caster:AddSpellAffect(SPELLAFFECT_BUFF, caster, \"Sprint\", SPELLAFFECT_VISIBLE, 1, 0, 15, AFFECT_NONE, sk, \"Movement speed increased by 70%\")\nend\n','function skill_sprint_apply(caster, target, affect)\n  affect:ApplyAura(AURA_MOVE_SPEED, 70)\nend\n','','function skill_sprint_remove(caster, target, affect)\n  target:Send(\"|WSprint fades from you.|X\\n\\r\")\n  target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s sprint fades from \" .. affect:GetCasterName() .. \".|X\", MSG_ROOM_NOTCHAR, nil)\nend\n','function skill_sprint_cost(caster, target, skill)\n  return 1\nend\n'),(10,'Lucifron\'s Curse','Lucifron\'s Curse',0,'',2,'Spell and ability costs are increased by 100% for 5 minutes','none',0,'0;','skill_lucifrons_curse','function skill_lucifrons_curse_cast(caster, target, skill)\n  caster:Send(\"|WYou cast Lucifron\'s Curse.|X\\n\\r\")\n  target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Lucifron\'s Curse\", SPELLAFFECT_VISIBLE, 1, 0, 300, AFFECT_CURSE, skill, \"Skill costs increased by 100%\")\nend\n','function skill_lucifrons_curse_apply(caster, target, affect)\n  caster:Send(\"|W\" .. target:GetName() .. \" is affected by Lucifron\'s curse.|X\\n\\r\")\n  target:Send(\"|WYou are affected by Lucifron\'s curse.|X\\n\\r\")\n  caster:Message(\"|W\" .. target:GetName() .. \" is affected by Lucifron\'s curse.|X\", MSG_ROOM_NOTCHARVICT, target)\n  affect:ApplyAura(AURA_RESOURCE_COST, 100)\nend\n','','function skill_lucifrons_curse_remove(caster, target, affect)\n  target:Send(\"|WLucifron\'s curse fades from you.|X\\n\\r\")\n  target:Message(\"|WLucifron\'s curse fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHAR, nil)\nend\n','function skill_lucifrons_curse_cost(caster, target, skill)\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(11,'Impending Doom','Impending Doom',0,'',2,'2000 Shadow damage inflicted after 10 sec.','none',0,'0;','skill_impending_doom','function skill_impending_doom_cast(caster, target, skill)\n  caster:EnterCombat(target)\n  caster:Send(\"|WYou cast Impending Doom on \" .. target:GetName() .. \"|X\\n\\r\")\n  target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Impending Doom\", SPELLAFFECT_VISIBLE, 1, 1, 10, AFFECT_MAGIC, skill, \"2000 shadow damage inflicted after 10 seconds\")\nend\n','function skill_impending_doom_apply(caster, target, affect)\n  caster:Send(\"|W\" .. target:GetName() .. \" is affected by Impending Doom.|X\\n\\r\")\n  target:Send(\"|WYou are affected by Impending Doom.|X\\n\\r\")\n  caster:Message(\"|W\" .. target:GetName() .. \" is affected by Impending Doom.|X\", MSG_ROOM_NOTCHARVICT, target)\nend\n','function skill_impending_doom_tick(caster, target, affect)\n  target:Send(\"|WYou suffer 2000 damage from Impending Doom.|X\\n\\r\")\n  target:Message(\"|W\" .. target:GetName() .. \" suffers 2000 damage from Impending Doom.|X\", MSG_ROOM_NOTCHAR, nil)\n  if(caster ~= nil) then\n    caster:OneHit(target, 2000)\n  else\n    target:OneHit(target, 2000)\n  end\nend\n','function skill_impending_doom_remove(caster, target, affect)\n  target:Send(\"|WImpending Doom fades from you.|X\\n\\r\")\n  target:Message(\"|WImpending Doom fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHAR, nil)\nend\n','function skill_impending_doom_cost(caster, target, skill)\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(12,'Remove Curse','Remove Curse',0,'',4,'Dispels one curse from a friendly target','120 mana',0,'0;','skill_remove_curse','function skill_remove_curse_cast(caster, target, skill)\n  caster:ConsumeMana(120)\n  if(caster ~= target) then\n    caster:Send(\"|WYou cast remove curse on \" .. target:GetName() .. \".|X\\n\\r\")\n  else\n    caster:Send(\"|WYou cast remove curse.|X\\n\\r\")\n  end\n  \n  local removed = target:CleanseSpellAffect(caster, AFFECT_CURSE, 1)\n  caster:EnterCombatAssist(target)\nend\n','','','','function skill_remove_curse_cost(caster, target, skill)\n  if(not caster:CanHeal(target)) then\n    caster:Send(\"Invalid target.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 120)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  return 1\nend  \n'),(13,'Purify','Purify',0,'',4,'Purifies the friendly target, removing 1 disease effect and 1 poison effect','180 mana',0,'0;','skill_purify','function skill_purify_cast(caster, target, skill)\n  caster:ConsumeMana(180)\n  if(caster ~= target) then\n    caster:Send(\"|WYou cast purify on \" .. target:GetName() .. \".|X\\n\\r\")\n  else\n    caster:Send(\"|WYou cast purify.|X\\n\\r\")\n  end\n\n  local poison = target:CleanseSpellAffect(caster, AFFECT_POISON, 1)\n  local disease = target:CleanseSpellAffect(caster, AFFECT_DISEASE, 1)\n  caster:EnterCombatAssist(target)\nend\n','','','','function skill_purify_cost(caster, target, skill)\n  if(not caster:CanHeal(target)) then\n    caster:Send(\"Invalid target.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 180)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(14,'Slow','Slow',30,'',2,'Movement speed decreased by 80%, gradually increasing over spell duration','200 mana',0,'0;','skill_slow','function skill_slow_cast(caster, target, sk)\n  caster:Message(\"|WYou cast slow on \" .. target:GetName() .. \".|X\", MSG_CHAR, nil)\n  caster:Message(\"|W\" .. caster:GetName() .. \" casts slow on \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHAR, caster)\n  target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Slow\", SPELLAFFECT_VISIBLE, 1, 5, 10, AFFECT_MAGIC, sk, \"Movement speed decreased\")\n  target:Send(\"|WYou are affected by \" .. caster:GetName() .. \"\'s slow.|X\\n\\r\")\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  caster:ConsumeMana(200)\nend\n','function skill_slow_apply(caster, target, affect)\n  affect:ApplyAura(AURA_MOVE_SPEED, -80)\n  affect:SaveDataInt(\"ticknum\", 1)\nend\n','function skill_slow_tick(caster, target, affect)\n  ticknum = affect:GetDataInt(\"ticknum\")\n  affect:RemoveAura(AURA_MOVE_SPEED)\n  affect:ApplyAura(AURA_MOVE_SPEED, -80 + (15 * ticknum))\n  affect:SaveDataInt(\"ticknum\", ticknum + 1)\nend\n','function skill_slow_remove(caster, target, affect)\n  if(caster ~= nil) then\n    caster:Send(\"|WYour slow fades from \" .. target:GetName() .. \".|X\\n\\r\")\n    target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s slow fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\n  else\n    target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s slow fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHAR, nil)\n  end\n  target:Send(\"|WSlow fades from you.|X\\n\\r\")\nend\n','function skill_slow_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 200)) then\n      caster:Send(\"You don\'t have enough mana.\\n\\r\")\n      return 0\n  end\n  return 1\nend\n'),(15,'Frostbolt 1','Frostbolt',0,'',2,'Launches a bolt of frost at the enemy, causing 10 + 20% of intellect damage and slowing movement speed by 50% for 5 seconds','10 mana',2,'0;','skill_frostbolt_1','function skill_frostbolt_1_cast(caster, target, sk)\n  caster:ConsumeMana(10)\n  local damage = math.ceil(10 + 0.2 * caster:GetIntellect())\n  local absorbed = target:HandleDamageAbsorb(damage)\n  caster:Send(\"|WYour frostbolt hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n  if(absorbed > 0) then\n    caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n  end\n  caster:Send(\".|X\\r\\n\")\n  target:Send(\"|W\" .. caster:GetName() .. \"\'s frostbolt hits you for \" .. (damage - absorbed) .. \" damage\")\n  if(absorbed > 0) then\n    target:Send(\" (\" .. absorbed .. \" absorbed)\")\n  end\n  target:Send(\".|X\\r\\n\")\n  caster:Message(\"|W\" .. caster:GetName() .. \"\'s frostbolt hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n  target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Chilled\", SPELLAFFECT_VISIBLE, 1, 0, 5, AFFECT_MAGIC, sk, \"Movement speed reduced by 50%\")\n  --target:AddSpellAffect(1, caster, \"Frostbite\", false, false, 0, 4, AFFECT_MAGIC, sk, \"Frozen in place\")\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  damage = damage - absorbed\n  caster:OneHit(target, damage)\nend\n','function skill_frostbolt_1_apply(caster, target, affect)\n  if(affect.name == \"Chilled\") then  \n    affect:ApplyAura(AURA_MOVE_SPEED, -50)\n    target:Send(\"|WYou are affected by Chilled.|X\\n\\r\")\n    target:Message(\"|W\" .. target:GetName() .. \" is affected by Chilled.|X\", MSG_ROOM_NOTCHAR, nil)\n  end\n  if(affect.name == \"Frostbite\") then\n    caster:Send(\"Frostbite!\\n\\r\")\n  end\nend\n','','function skill_frostbolt_1_remove(caster, target, affect)\n  if(affect.name == \"Chilled\") then\n    target:Send(\"|WChilled fades from you.|X\\n\\r\")\n    target:Message(\"|WChilled fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHAR, nil)\n  end\nend\n','function skill_frostbolt_1_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 10)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(16,'Slam','Slam',0,'',2,'Slams an opponent, causing 190% of mainhand weapon damage, plus 30% of strength','20 rage',0,'0;','skill_slam','function skill_slam_cast(caster, target, sk)\n  caster:ConsumeRage(20)\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  local damage = math.ceil(caster:GetMainhandDamagePerSecond() * 1.9 + (caster:GetStrength() * .3))\n  local attack = caster:DoAttackRoll(target, SCHOOL_PHYSICAL)\n  if(attack == ATTACK_MISS) then\n    caster:Send(\"|WYour Slam misses \" .. target:GetName() .. \"|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Slam misses you.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Slam misses \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_DODGE) then\n    caster:Send(\"|W\" .. target:GetName() .. \" dodges your Slam.|X\\n\\r\")\n    target:Send(\"|WYou dodge \" .. caster:GetName() .. \"\'s Slam.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" dodges \" .. caster:GetName() .. \"\'s Slam.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_PARRY) then\n    caster:Send(\"|W\" .. target:GetName() .. \" parries your Slam.|X\\n\\r\")\n    target:Send(\"|WYou parry \" .. caster:GetName() .. \"\'s Slam.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" parries \" .. caster:GetName() .. \"\'s Slam.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_CRIT) then\n    damage = math.ceil(damage * 1.5)\n    damage = math.ceil(damage - (damage * target:CalculateArmorMitigation()))\n    local absorbed = target:HandleDamageAbsorb(damage)\n    caster:Send(\"|WYour Slam CRITS \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    caster:Send(\".|X\\r\\n\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Slam CRITS you for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:Send(\".|X\\r\\n\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Slam CRITS \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n    damage = damage - absorbed\n  else\n    damage = math.ceil(damage - (damage * target:CalculateArmorMitigation()))\n    local absorbed = target:HandleDamageAbsorb(damage)\n    caster:Send(\"|WYour Slam hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    caster:Send(\".|X\\r\\n\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Slam hits you for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:Send(\".|X\\r\\n\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Slam hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n    damage = damage - absorbed\n  end\n  caster:OneHit(target, damage)\nend\n','','','','function skill_slam_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n	return 0\n  end\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_RAGE, 20)) then\n    caster:Send(\"You don\'t have enough rage.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(17,'Charge','Charge',20,'0;1;',2,'Charge an enemy in an adjacent room and stun it for 2 seconds','Generates 10 rage',0,'0;','skill_charge','function skill_charge_cast(caster, target, skill)\n  local exit_dir = FindDirection(caster, target, 1)\n  if(exit_dir == DIR_LAST) then\n    caster:Send(\"Can\'t find a path to that target.\\r\\n\")\n    return\n  end\n  caster:Message(\"|W\" .. caster:GetName() .. \" charges \" .. target:GetName() .. \"!|X\", MSG_ROOM_NOTCHAR, nil)\n  caster:Move(exit_dir)\n  caster:Send(\"|W\" .. target:GetName() .. \" is stunned by your Charge.|X\\r\\n\")\n  target:Send(\"|WYou are stunned by \" .. caster:GetName() .. \"\'s Charge.|X\\r\\n\")\n  target:Message(\"|W\" .. target:GetName() .. \" is stunned by \" .. caster:GetName() .. \"\'s Charge.|X\", MSG_ROOM_NOTCHARVICT, caster)\n  target:CancelAutoAttack()\n  target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Charge Stun\", SPELLAFFECT_VISIBLE, 1, 0, 2, AFFECT_NONE, skill, \"Stunned\")\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  caster:AdjustRage(caster, 10)\nend\n','function skill_charge_apply(caster, target, affect)\n  affect:ApplyAura(AURA_STUN, 1)\nend\n','','function skill_charge_remove(caster, target, affect)\n  if(affect.name == \"Charge Stun\") then\n    target:Send(\"|WCharge Stun fades from you.|X\\r\\n\")\n    if(caster ~= nil) then\n      caster:Send(\"|WYour Charge Stun fades from \" .. target:GetName() .. \".|X\\r\\n\")\n      target:Message(\"|WCharge Stun fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\n    else\n      target:Message(\"|WCharge Stun fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHAR, nil)\n    end\n  end\nend\n','function skill_charge_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  if(caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is too close!\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(18,'Victory Rush','victory rush',0,'',0,'','NULL',0,'0;','','','','','',''),(19,'Execute','execute',0,'',0,'','NULL',0,'0;','','','','','',''),(20,'Mortal Strike','Mortal Strike',4.5,'',2,'A vicious strike that deals mainhand weapon damage plus 50% of strength and wounds the target, reducing the effectiveness of any healing by 20% for 10 sec.','30 rage',0,'0;','skill_mortal_strike','function skill_mortal_strike_cast(caster, target, sk)\n  caster:ConsumeRage(30)\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  local damage = math.ceil(caster:GetMainhandDamagePerSecond() + (caster:GetStrength() * .5))\n  local attack = caster:DoAttackRoll(target, SCHOOL_PHYSICAL)\n  if(attack == ATTACK_MISS) then\n    caster:Send(\"|WYour Mortal Strike misses \" .. target:GetName() .. \"|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Mortal Strike misses you.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Mortal Strike misses \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_DODGE) then\n    caster:Send(\"|W\" .. target:GetName() .. \" dodges your Mortal Strike.|X\\n\\r\")\n    target:Send(\"|WYou dodge \" .. caster:GetName() .. \"\'s Mortal Strike.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" dodges \" .. caster:GetName() .. \"\'s Mortal Strike.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_PARRY) then\n    caster:Send(\"|W\" .. target:GetName() .. \" parries your Mortal Strike.|X\\n\\r\")\n    target:Send(\"|WYou parry \" .. caster:GetName() .. \"\'s Mortal Strike.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" parries \" .. caster:GetName() .. \"\'s Mortal Strike.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_CRIT) then\n    damage = math.ceil(damage * 1.5)\n    damage = math.ceil(damage - (damage * target:CalculateArmorMitigation()))\n    local absorbed = target:HandleDamageAbsorb(damage)\n    caster:Send(\"|WYour Mortal Strike CRITS \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    caster:Send(\".|X\\r\\n\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Mortal Strike CRITS you for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:Send(\".|X\\r\\n\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Mortal Strike CRITS \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n    damage = damage - absorbed\n  else\n    damage = math.ceil(damage - (damage * target:CalculateArmorMitigation()))\n    local absorbed = target:HandleDamageAbsorb(damage)\n    caster:Send(\"|WYour Mortal Strike hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    caster:Send(\".|X\\r\\n\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Mortal Strike hits you for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:Send(\".|X\\r\\n\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Mortal Strike hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n    damage = damage - absorbed\n  end\n  caster:OneHit(target, damage)\n  target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Mortal Strike\", SPELLAFFECT_VISIBLE, 1, 0, 10, AFFECT_NONE, sk, \"Healing effects received reduced by 20%\")\nend\n','function skill_mortal_strike_apply(caster, target, affect)\n  affect:ApplyAura(AURA_HEALING_RECEIVED, -20)\n  caster:Send(\"|W\" .. target:GetName() .. \" is affected by your Mortal Strike.|X\\n\\r\")\n  target:Send(\"|WYou are affected by \" .. caster:GetName() .. \"\'s Mortal Strike.|X\\n\\r\")\n  caster:Message(\"|W\" .. target:GetName() .. \" is affected by \" .. caster:GetName() .. \"\'s Mortal Strike.|X\", MSG_ROOM_NOTCHARVICT, target)\nend\n','','function skill_mortal_strike_remove(caster, target, affect)\n  target:Send(\"|WMortal Strike fades from you.|X\\n\\r\")\n  if(caster ~= nil) then\n    caster:Send(\"|WYour Mortal Strike fades from \" .. target:GetName() .. \".|X\\n\\r\")\n    caster:Message(\"|W\" .. affect:GetCasterName() .. \"\'s Mortal Strike fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n  else\n    target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s Mortal Strike fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHAR, nil)\n  end\nend\n','function skill_mortal_strike_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n	return 0\n  end\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_RAGE, 30)) then\n    caster:Send(\"You don\'t have enough rage.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(21,'Sinister Strike','Sinister Strike',0,'',2,'An instant strike that causes 200% mainhand weapon damage plus 30% of strength. Awards 1 combo point.','40 energy',0,'0;','skill_sinister_strike','function skill_sinister_strike_cast(caster, target, sk)\n  caster:ConsumeEnergy(40)\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  local damage = math.ceil(caster:GetMainhandDamagePerSecond() * 2 + (caster:GetStrength() * .3))\n  local attack = caster:DoAttackRoll(target, SCHOOL_PHYSICAL)\n  if(attack == ATTACK_MISS) then\n    caster:Send(\"|WYour Sinister Strike misses \" .. target:GetName() .. \"|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Sinister Strike misses you.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Sinister Strike misses \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_DODGE) then\n    caster:Send(\"|W\" .. target:GetName() .. \" dodges your Sinister Strike.|X\\n\\r\")\n    target:Send(\"|WYou dodge \" .. caster:GetName() .. \"\'s Sinister Strike.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" dodges \" .. caster:GetName() .. \"\'s Sinister Strike.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_PARRY) then\n    caster:Send(\"|W\" .. target:GetName() .. \" parries your Sinister Strike.|X\\n\\r\")\n    target:Send(\"|WYou parry \" .. caster:GetName() .. \"\'s Sinister Strike.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" parries \" .. caster:GetName() .. \"\'s Sinister Strike.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_CRIT) then\n    caster:GenerateComboPoint(target)\n    damage = math.ceil(damage * 1.5)\n    damage = math.ceil(damage - (damage * target:CalculateArmorMitigation()))\n    local absorbed = target:HandleDamageAbsorb(damage)\n    caster:Send(\"|WYour Sinister Strike CRITS \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    caster:Send(\".|X\\r\\n\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Sinister Strike CRITS you for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:Send(\".|X\\r\\n\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Sinister Strike CRITS \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n    damage = damage - absorbed\n  else\n    caster:GenerateComboPoint(target)\n    damage = math.ceil(damage - (damage * target:CalculateArmorMitigation()))\n    local absorbed = target:HandleDamageAbsorb(damage)\n    caster:Send(\"|WYour Sinister Strike hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    caster:Send(\".|X\\r\\n\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Sinister Strike hits you for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:Send(\".|X\\r\\n\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Sinister Strike hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n    damage = damage - absorbed\n  end\n  caster:OneHit(target, damage)\nend\n','','','','function skill_sinister_strike_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_ENERGY, 40)) then\n    caster:Send(\"You don\'t have enough energy.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(22,'Eviscerate','Eviscerate',0,'',2,'Finishing move causing weapon damage plus 30% of strength per combo point','35 Energy / 1 to 5 Combo Points',0,'0;','skill_eviscerate','function skill_eviscerate_cast(caster, target, sk)\n  local combos = caster:SpendComboPoints(target)\n  if(combos == 0) then\n      caster:Send(\"You don\'t have combo points on that target.\\n\\r\")\n      return\n  end\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  caster:ConsumeEnergy(35)\n  local damage = math.ceil((caster:GetMainhandDamagePerSecond() + caster:GetOffhandDamagePerSecond()\n                 + (caster:GetStrength() * .3)) * combos)\n  local attack = caster:DoAttackRoll(target, SCHOOL_PHYSICAL)\n  if(attack == ATTACK_MISS) then\n    caster:Send(\"|WYour Eviscerate misses \" .. target:GetName() .. \"|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Eviscerate misses you.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Eviscerate misses \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_DODGE) then\n    caster:Send(\"|W\" .. target:GetName() .. \" dodges your Eviscerate.|X\\n\\r\")\n    target:Send(\"|WYou dodge \" .. caster:GetName() .. \"\'s Eviscerate.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" dodges \" .. caster:GetName() .. \"\'s Eviscerate.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_PARRY) then\n    caster:Send(\"|W\" .. target:GetName() .. \" parries your Eviscerate.|X\\n\\r\")\n    target:Send(\"|WYou parry \" .. caster:GetName() .. \"\'s Eviscerate.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" parries \" .. caster:GetName() .. \"\'s Eviscerate.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_CRIT) then\n    caster:GenerateComboPoint(target)\n    damage = math.ceil(damage * 1.5)\n    damage = math.ceil(damage - (damage * target:CalculateArmorMitigation()))\n    local absorbed = target:HandleDamageAbsorb(damage)\n\n    caster:Send(\"|WYour Eviscerate CRITS \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    caster:Send(\".|X\\r\\n\")\n\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Eviscerate CRITS you for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:Send(\".|X\\r\\n\")\n\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Eviscerate CRITS \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n    damage = damage - absorbed\n  else\n    caster:GenerateComboPoint(target)\n    damage = math.ceil(damage - (damage * target:CalculateArmorMitigation()))\n    local absorbed = target:HandleDamageAbsorb(damage)\n\n    caster:Send(\"|WYour Eviscerate hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    caster:Send(\".|X\\r\\n\")\n\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Eviscerate hits you for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:Send(\".|X\\r\\n\")\n\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Eviscerate hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n    damage = damage - absorbed\n  end\n  caster:OneHit(target, damage)\nend\n','','','','function skill_eviscerate_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_ENERGY, 35)) then\n      caster:Send(\"You don\'t have enough energy.\\n\\r\")\n      return 0\n  end\n  if(not caster:HasResource(RESOURCE_COMBO, 1)) then\n      caster:Send(\"You don\'t have any combo points.\\n\\r\")\n      return 0\n  end\n  return 1\nend\n'),(23,'Rupture','rupture',0,'',2,'Finishing move that causes damage over time, increased by your Strength. Lasts longer per combo point','25 energy & 1-5 combo points',0,'0;','skill_rupture','','','','',''),(24,'Cheap Shot','cheap shot',0,'',0,'','NULL',0,'0;','','','','','',''),(25,'Backstab','backstab',0,'',0,'','NULL',0,'0;','','','','','',''),(26,'Smite 1','Smite',0,'',2,'Smites an enemy for 15 + 10% intellect damage','15 mana',1.5,'0;','skill_smite_1','function skill_smite_1_cast(caster, target, sk)\n  caster:ConsumeMana(15)\n  local damage = 15 + math.ceil(0.1 * caster:GetIntellect())\n  local absorbed = target:HandleDamageAbsorb(damage)\n  caster:Send(\"|WYour smite hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n  if(absorbed > 0) then\n      caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n  caster:Send(\".|X\\r\\n\")\n  target:Send(\"|W\" .. caster:GetName() .. \"\'s smite hits you for \" .. (damage - absorbed) .. \" damage\")\n  if(absorbed > 0) then\n      target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n  target:Send(\".|X\\r\\n\")\n  caster:Message(\"|W\" .. caster:GetName() .. \"\'s smite hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  damage = damage - absorbed\n  caster:OneHit(target, damage)\nend\n','','','','function skill_smite_1_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 15)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(27,'Shadow Word: Pain 1','Shadow Word: Pain',0,'',2,'','NULL',0,'0;','shadow_word_pain_1','','','','',''),(28,'Flash Heal 7','Flash Heal',0,'',4,'Heals a friendly target for 890 + 100% of intellect','380 mana',1.5,'0;','skill_flash_heal_7','function skill_flash_heal_7_cast(caster, target, skill)\n  local healval = math.ceil(890 + caster:GetIntellect())\n  local overheal = \"\"\n  if(caster == target) then\n    if(healval > (caster:GetMaxHealth() - caster:GetHealth())) then\n      overheal =  \" (\" .. (healval - (caster:GetMaxHealth() - caster:GetHealth())) .. \" overheal)\" \n      healval = caster:GetMaxHealth() - caster:GetHealth()\n    end\n    caster:Send(\"|WYou have completed your spell. You gain \" .. healval .. \" health\")\n    if(overheal ~= 0) then\n      caster:Send(overheal)\n    end\n    caster:Send(\".|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() ..\" spell. \" .. caster:GetName() .. \" gains \" .. healval .. \" health.|X\", MSG_ROOM_NOTCHAR, null)\n  else\n    if(healval > (target:GetMaxHealth() - target:GetHealth())) then\n      overheal =  \" (\" .. (healval - (target:GetMaxHealth() - target:GetHealth())) .. \" overheal)\" \n      healval = target:GetMaxHealth() - target:GetHealth()\n    end\n    caster:Send(\"|WYou have completed your spell. \" .. target:GetName() .. \" gains \" .. healval .. \" health\")\n    if(overheal ~= 0) then\n      caster:Send(overheal)\n    end\n    caster:Send(\".|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() .. \" spell. You gain \" .. healval .. \" health.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() ..\" spell. \" .. target:GetName() .. \" gains \" .. healval .. \" health.|X\", MSG_ROOM_NOTCHARVICT, target)\n  end\n  caster:ConsumeMana(380)\n  caster:OneHeal(target, healval)\nend\n','','','','function skill_flash_heal_7_cost(caster, target, skill)\n  if(not caster:CanHeal(target)) then\n    caster:Send(\"You can\'t heal that target.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 380)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  if(caster:IsFighting(target)) then\n    caster:Send(\"You can\'t heal the target you\'re attacking.\\n\\r\")\n    return\n  end\n  return 1\nend\n'),(29,'Power Word: Shield','Power Word: Shield',0,'',4,'Draws on the soul of the target to shield them, absorbing 1.75 * Intellect damage. Lasts 30 sec. While the shield holds, spellcasting will not be interrupted by damage. Once shielded, the target cannot be shielded again for 15 sec.','400 mana',0,'0;','skill_power_word_shield','function skill_power_word_shield_cast(caster, target, sk)\n  caster:ConsumeMana(400)\n  local absorbvalue = math.ceil(caster:GetIntellect() * 1.75)\n  if(caster ~= target) then\n      caster:Send(\"|WYou cast Power Word: Shield on \" .. target:GetName() .. \".|X\\n\\r\")\n      target:Send(\"|W\" .. caster:GetName() .. \" casts Power Word: Shield on you.|X\\n\\r\")\n  else\n      caster:Send(\"|WYou cast Power Word: Shield on yourself.|X\\n\\r\")\n  end\n  caster:Message(\"|W\" .. caster:GetName() .. \" casts Power Word: Shield on \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n  target:AddSpellAffect(SPELLAFFECT_BUFF, caster, \"Power Word: Shield\", SPELLAFFECT_VISIBLE, 1, 0, 30, AFFECT_MAGIC, sk, \"Absorbs \" .. absorbvalue .. \" Damage\")\n  target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Weakened Soul\", SPELLAFFECT_VISIBLE, 1, 0, 15, AFFECT_NONE, sk, \"Cannot be affected by Power Word: Shield\")\n  caster:EnterCombatAssist(target)\nend\n','function skill_power_word_shield_apply(caster, target, affect)\n  if(affect.name == \"Power Word: Shield\") then\n	affect:ApplyAura(AURA_DAMAGE_ABSORB, math.ceil(caster:GetIntellect() * 1.75))\n  end\n  if(affect.name == \"Weakened Soul\") then\n    target:Send(\"|WYou are affected by Weakened Soul.|X\\n\\r\")\n  end\nend\n','','function skill_power_word_shield_remove(caster, target, affect)\n  --caster may be nil in tick and remove functions\n  if(affect.name == \"Power Word: Shield\") then\n    if(affect:GetCasterName() == target:GetName()) then\n      target:Send(\"|WYour Power Word: Shield fades.|X\\n\\r\")\n    else\n      if(caster ~= nil) then\n        caster:Send(\"|WYour Power Word: Shield fades from \" .. target:GetName() .. \".|X\\n\\r\")\n      end\n      target:Send(\"|W\" .. affect:GetCasterName() .. \"\'s Power Word: Shield fades from you.|X\\n\\r\")\n    end\n    target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s Power Word: Shield fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\n  end\n  if(affect.name == \"Weakened Soul\") then\n    target:Send(\"|WWeakened Soul fades from you.|X\\n\\r\")\n  end\nend\n','function skill_power_word_shield_cost(caster, target, skill)\n  if(not caster:CanHeal(target)) then\n    caster:Send(\"Invalid target.\\n\\r\")\n    return 0\n  end\n  if(caster:IsFighting(target)) then\n    caster:Send(\"You can\'t shield the target you\'re attacking.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 400)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n    end\n  if(target:HasSpellAffect(\"Weakened Soul\")) then\n    caster:Send(\"You can\'t shield that target again yet.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(30,'Penance 1','penance 1',0,'',0,'','NULL',0,'0;','','','','','',''),(31,'Fire Blast 1','fire blast 1',0,'',0,'','NULL',0,'0;','','','','','',''),(32,'Ice Lance','ice lance',0,'',2,'','NULL',0,'0;','skill_ice_lance','','','','',''),(33,'Garrote','garrote',15,'',2,'Garrote the enemy, causing 100% of strength as bleed damage over 18 sec. Awards 1 combo point','45 energy',0,'0;','skill_garrote','function skill_garrote_cast(caster, target, sk)\n  caster:ConsumeEnergy(45)\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  local damage = math.ceil(caster:GetStrength() / 9)\n  local attack = caster:DoAttackRoll(target, SCHOOL_PHYSICAL)\n  if(attack == ATTACK_MISS) then\n    caster:Send(\"|WYour Garrote misses \" .. target:GetName() .. \"|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Garrote misses you.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Garrote misses \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_DODGE) then\n    caster:Send(\"|W\" .. target:GetName() .. \" dodges your Garrote.|X\\n\\r\")\n    target:Send(\"|WYou dodge \" .. caster:GetName() .. \"\'s Garrote.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" dodges \" .. caster:GetName() .. \"\'s Garrote.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_PARRY) then\n    caster:Send(\"|W\" .. target:GetName() .. \" parries your Garrote.|X\\n\\r\")\n    target:Send(\"|WYou parry \" .. caster:GetName() .. \"\'s Garrote.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" parries \" .. caster:GetName() .. \"\'s Garrote.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  end\n  caster:GenerateComboPoint(target)\n  target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Garrote\", SPELLAFFECT_VISIBLE, 1, 9, 18, AFFECT_BLEED, sk, \"Suffering \" .. damage .. \" damage every 2 seconds\")\nend\n','function skill_garrote_apply(caster, target, affect)\n  local damage = math.ceil(caster:GetStrength() / 9)\n  affect:SaveDataInt(\"damage\", damage)\n  caster:Send(\"|W\" .. target:GetName() .. \" is affected by your Garrote.|X\\n\\r\")\n  target:Send(\"|WYou are affected by \" .. caster:GetName() .. \"\'s Garrote.|X\\n\\r\")\n  target:Message(\"|W\" .. target:GetName() .. \" is affected by \" .. caster:GetName() .. \"\'s Garrote.|X\", MSG_ROOM_NOTCHARVICT, caster)\nend\n','function skill_garrote_tick(caster, target, affect)\n  local damage = affect:GetDataInt(\"damage\")\n  local absorbed = target:HandleDamageAbsorb(damage)\n  if(caster ~= nil) then\n      caster:Send(\"|WYour Garrote damages \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" health\")\n      if(absorbed > 0) then\n        caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n      end\n      caster:Send(\".|X\\r\\n\")\n  end\n  target:Send(\"|W\" .. affect:GetCasterName() .. \"\'s Garrote damages you for \" .. (damage - absorbed) .. \" health\")\n  if(absorbed > 0) then\n    target:Send(\" (\" .. absorbed .. \" absorbed)\")\n  end\n  target:Send(\".|X\\r\\n\")\n  target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s Garrote damages \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" health.|X\", MSG_ROOM_NOTCHARVICT, caster)\n  damage = damage - absorbed\n  if(caster ~= nil) then\n    caster:OneHit(target, damage)\n  else\n    target:AdjustHealth(nil, -damage)\n  end\nend\n','function skill_garrote_remove(caster, target, affect)\n    if(caster ~= nil) then\n        caster:Send(\"|WYour Garrote fades from \" .. target:GetName() .. \".|X\\n\\r\")\n    end\n    target:Send(\"|W\" .. affect:GetCasterName() .. \"\'s Garrote fades from you.|X\\n\\r\")\n    target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s Garrote fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\nend\n','function skill_garrote_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_ENERGY, 45)) then\n    caster:Send(\"You don\'t have enough energy.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(34,'Bloodthirst','bloodthirst',4.5,'',2,'Assault the target in a bloodthirsty craze, dealing mainhand weapon damage plus 30% strength. Restores 4% health.','Generates 10 rage',0,'0;','skill_bloodthirst','function skill_bloodthirst_cast(caster, target, sk)\n  local damage = math.ceil(caster:GetMainhandDamagePerSecond() + (caster:GetStrength() * .3))\n  local heal = math.ceil(caster:GetMaxHealth() * .04)\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  local attack = caster:DoAttackRoll(target, SCHOOL_PHYSICAL)\n  if(attack == ATTACK_MISS) then\n    caster:Send(\"|WYour Bloodthirst misses \" .. target:GetName() .. \"|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Bloodthirst misses you.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Bloodthirst misses \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_DODGE) then\n    caster:Send(\"|W\" .. target:GetName() .. \" dodges your Bloodthirst.|X\\n\\r\")\n    target:Send(\"|WYou dodge \" .. caster:GetName() .. \"\'s Bloodthirst.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" dodges \" .. caster:GetName() .. \"\'s Bloodthirst.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_PARRY) then\n    caster:Send(\"|W\" .. target:GetName() .. \" parries your Bloodthirst.|X\\n\\r\")\n    target:Send(\"|WYou parry \" .. caster:GetName() .. \"\'s Bloodthirst.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" parries \" .. caster:GetName() .. \"\'s Bloodthirst.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_CRIT) then\n    damage = math.ceil(damage * 1.5)\n    damage = math.ceil(damage - (damage * target:CalculateArmorMitigation()))\n    local absorbed = target:HandleDamageAbsorb(damage)\n    caster:Send(\"|WYour Bloodthirst CRITS \" .. target:GetName() .. \" for \" .. damage .. \" damage, and heals you for \" .. heal .. \" health.|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Bloodthirst CRITS you for \" .. damage .. \" damage, and heals \" .. caster:GetName() .. \" for \" .. heal .. \" health.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Bloodthirst CRITS \" .. target:GetName() .. \" for \" .. damage .. \" damage, and heals \" .. caster:GetName() .. \" for \" .. heal .. \" health.|X\", MSG_ROOM_NOTCHARVICT, target)\n  else\n    damage = math.ceil(damage - (damage * target:CalculateArmorMitigation()))\n    local absorbed = target:HandleDamageAbsorb(damage)\n    damage = damage - absorbed\n    caster:Send(\"|WYour Bloodthirst hits \" .. target:GetName() .. \" for \" .. damage .. \" damage\")\n    if(absorbed > 0) then\n      caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    caster:Send(\", and heals you for \" .. heal .. \" health.|X\\r\\n\")\n\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Bloodthirst hits you for \" .. damage .. \" damage\")\n    if(absorbed > 0) then\n      target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:Send(\", and heals \" .. caster:GetName() .. \" for \" .. heal .. \" health.|X\\r\\n\")\n\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Bloodthirst hits \" .. target:GetName() .. \" for \" .. damage .. \" damage, and heals \" .. caster:GetName() .. \" for \" .. heal .. \" health.|X\", MSG_ROOM_NOTCHARVICT, target)\n  end\n  caster:AdjustRage(caster, 10)\n  caster:OneHeal(caster, heal)\n  caster:OneHit(target, damage)\nend\n','','','','function skill_bloodthirst_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(35,'Rend','rend',0,'',2,'Wounds the target, causing 150% of weapon damage, then 150% of strength as Bleed damage over 16 seconds','30 rage',0,'0;','skill_rend','function skill_rend_cast(caster, target, sk)\n  caster:ConsumeRage(30)\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  local damage = math.ceil((caster:GetMainhandDamagePerSecond() + caster:GetOffhandDamagePerSecond()) * 1.5)\n  local bleed = math.ceil((caster:GetStrength() * 1.6) / 4)\n  local attack = caster:DoAttackRoll(target, SCHOOL_PHYSICAL)\n  if(attack == ATTACK_MISS) then\n    caster:Send(\"|WYour Rend misses \" .. target:GetName() .. \"|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Rend misses you.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Rend misses \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_DODGE) then\n    caster:Send(\"|W\" .. target:GetName() .. \" dodges your Rend.|X\\n\\r\")\n    target:Send(\"|WYou dodge \" .. caster:GetName() .. \"\'s Rend.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" dodges \" .. caster:GetName() .. \"\'s Rend.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_PARRY) then\n    caster:Send(\"|W\" .. target:GetName() .. \" parries your Rend.|X\\n\\r\")\n    target:Send(\"|WYou parry \" .. caster:GetName() .. \"\'s Rend.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" parries \" .. caster:GetName() .. \"\'s Rend.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_CRIT) then\n    damage = math.ceil(damage * 1.5)\n    damage = math.ceil(damage - (damage * target:CalculateArmorMitigation()))\n    local absorbed = target:HandleDamageAbsorb(damage)\n    damage = damage - absorbed\n    caster:Send(\"|WYour Rend CRITS \" .. target:GetName() .. \" for \" .. damage .. \" damage\")\n    if(absorbed > 0) then\n      caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    caster:Send(\".|X\\r\\n\")\n\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Rend CRITS you for \" .. damage .. \" damage\")\n    if(absorbed > 0) then\n      target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:Send(\".|X\\r\\n\")\n\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Rend CRITS \" .. target:GetName() .. \" for \" .. damage .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n  else\n    damage = math.ceil(damage - (damage * target:CalculateArmorMitigation()))\n    local absorbed = target:HandleDamageAbsorb(damage)\n    damage = damage - absorbed\n    caster:Send(\"|WYour Rend hits \" .. target:GetName() .. \" for \" .. damage .. \" damage\")\n    if(absorbed > 0) then\n      caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    caster:Send(\".|X\\r\\n\")\n\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Rend hits you for \" .. damage .. \" damage\")\n    if(absorbed > 0) then\n      target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:Send(\".|X\\r\\n\")\n\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Rend hits \" .. target:GetName() .. \" for \" .. damage .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n  end\n  caster:OneHit(target, damage)\n  if(target:IsAlive()) then\n    target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Rend\", SPELLAFFECT_VISIBLE, 1, 4, 16, AFFECT_BLEED, sk, \"Suffering \" .. bleed .. \" damage every 4 seconds\")\n  end\nend\n','function skill_rend_apply(caster, target, affect)\n  local bleed = math.ceil((caster:GetStrength() * 1.6) / 4)\n  affect:SaveDataInt(\"damage\", bleed)\n  caster:Send(\"|W\" .. target:GetName() .. \" is affected by your Rend.|X\\n\\r\")\n  target:Send(\"|WYou are affected by \" .. caster:GetName() .. \"\'s Rend.|X\\n\\r\")\n  target:Message(\"|W\" .. target:GetName() .. \" is affected by \" .. caster:GetName() .. \"\'s Rend.|X\", MSG_ROOM_NOTCHARVICT, caster)\nend\n','function skill_rend_tick(caster, target, affect) \n  local damage = affect:GetDataInt(\"damage\") \n  local absorbed = target:HandleDamageAbsorb(damage)\n  damage = damage - absorbed\n  target:Send(\"|W\" .. affect:GetCasterName() .. \"\'s Rend damages you for \" .. damage .. \" health\") \n  if(absorbed > 0) then\n    target:Send(\" (\" .. absorbed .. \" absorbed)\")\n  end\n  target:Send(\".|X\\r\\n\")\n\n  target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s Rend damages \" .. target:GetName() .. \" for \" .. damage .. \" health.|X\", MSG_ROOM_NOTCHARVICT, caster) \n  if(caster ~= nil) then \n    caster:Send(\"|WYour Rend damages \" .. target:GetName() .. \" for \" .. damage .. \" health\") \n    if(absorbed > 0) then\n      caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    caster:Send(\".|X\\r\\n\")\n    caster:OneHit(target, damage) \n  end \n  if(caster == nil) then \n    target:AdjustHealth(caster, -damage) \n  end \nend \n','function skill_rend_remove(caster, target, affect)\n    if(caster ~= nil) then\n        caster:Send(\"|WYour Rend fades from \" .. target:GetName() .. \".|X\\n\\r\")\n    end\n    target:Send(\"|W\" .. affect:GetCasterName() .. \"\'s Rend fades from you.|X\\n\\r\")\n    target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s Rend fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\nend\n','function skill_rend_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_RAGE, 30)) then\n    caster:Send(\"You don\'t have enough rage.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(36,'Mana Shield','mana shield',0,'',0,'','',0,'0;','skill_mana_shield','','','','',''),(37,'Food','food',0,'',0,'Restores health based on your current level','Skill associated with the food spell affect used by generic food items',0,'0;','item_basicfood','function item_basicfood_cast(caster, target, sk)\n    local totalheal = math.ceil((20*caster:GetLevel())+50)\n    local healpersecond = math.ceil(totalheal / 30)\n    target:AddSpellAffect(SPELLAFFECT_BUFF, caster, \"Food\", SPELLAFFECT_VISIBLE, 1, 10, 30, AFFECT_NONE, sk, \"Restores \" .. healpersecond .. \" health per second.\")\nend\n','function item_basicfood_apply(caster, target, affect)\n    local totalheal = math.ceil((20*caster:GetLevel())+50)\n    affect:SaveDataInt(\"totalheal\", totalheal)\n    affect:ApplyAura(AURA_EATING, 1)\n\nend\n','function item_basicfood_tick(caster, target, affect)\n    if(target:GetHealth() >= target:GetMaxHealth()) then\n      return\n    end\n    local totalheal = affect:GetDataInt(\"totalheal\")\n    local healpertick = math.ceil(totalheal / 10)\n    if(target:GetHealth() > (target:GetMaxHealth() - healpertick)) then\n      target:Send(\"|WYou gain \" .. (target:GetMaxHealth() - target:GetHealth()) .. \" health.|X\\n\\r\")\n    else\n      target:Send(\"|WYou gain \" .. healpertick .. \" health.|X\\n\\r\")\n    end\n    target:AdjustHealth(caster, healpertick)\nend\n','function item_basicfood_remove(caster, target, affect)\n  target:Send(\"You stop eating.\\r\\n\")\nend\n','function item_basicfood_cost(caster, target, skill)\n    if(caster:InCombat()) then\n        caster:Send(\"You can\'t do that while in combat.\\n\\r\")\n        return 0\n    end\n    return 1\nend\n'),(38,'Drink','drink',0,'',0,'Restores mana based on your current level','Skill associated with the drink spell affect used by generic drink items',0,'0;','item_basicdrink','function item_basicdrink_cast(caster, target, sk)\n    local totalmana = math.ceil((30*caster:GetLevel())+50)\n    local manapersecond = math.ceil(totalmana / 30)\n    target:AddSpellAffect(SPELLAFFECT_BUFF, caster, \"Drink\", SPELLAFFECT_VISIBLE, 1, 10, 30, AFFECT_NONE, sk, \"Restores \" .. manapersecond .. \" mana per second.\")\nend\n','function item_basicdrink_apply(caster, target, affect)\n    local totalmana = math.ceil((30*caster:GetLevel())+50)\n    affect:SaveDataInt(\"totalmana\", totalmana)\n    affect:ApplyAura(AURA_DRINKING, 1)\nend\n','function item_basicdrink_tick(caster, target, affect)\n    if(target:GetMana() >= target:GetMaxMana()) then\n      return\n    end\n    local totalmana = affect:GetDataInt(\"totalmana\")\n    local manapertick = math.ceil(totalmana / 10)\n    if(target:GetMana() > (target:GetMaxMana() - manapertick)) then\n      target:Send(\"|WYou gain \" .. (target:GetMaxMana() - target:GetMana()) .. \" mana.|X\\n\\r\")\n    else\n      target:Send(\"|WYou gain \" .. manapertick .. \" mana.|X\\n\\r\")\n    end\n    target:AdjustMana(caster, manapertick)\nend\n','function item_basicdrink_remove(caster, target, affect)\n  target:Send(\"You stop drinking.\\r\\n\")\nend\n','function item_basicdrink_cost(caster, target, skill)\n    if(caster:InCombat()) then\n        caster:Send(\"You can\'t do that while in combat.\\n\\r\")\n        return 0\n    end\n    return 1\nend\n'),(39,'Frostbite','frostbite',0,'',2,'Frozen in place and unable to move','Possible effect from mage frostbolt',0,'0;','skill_frostbite','function skill_frostbite_cast(caster, target, sk)\n  caster:Message(\"|W\" .. target:GetName() .. \" is affected by frostbite and unable to move.|X\", MSG_CHAR, null)\n  target:Send(\"|WYou are affected by \" .. caster:GetName() .. \"\'s frostbite and unable to move. |X\\n\\r\")\n  caster:Message(\"|W\" .. target:GetName() .. \" is affected by \" .. caster:GetName() .. \"\'s frostbite and unable to move.|X\", MSG_ROOM_NOTCHARVICT, target)\n  target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Frostbite\", SPELLAFFECT_VISIBLE, 1, 0, 4, AFFECT_MAGIC, sk, \"Unable to move\")\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\nend\n','function skill_frostbite_apply(caster, target, affect)\n      affect:ApplyAura(AURA_MOVE_SPEED, -1000)\n\nend\n','','function skill_frostbite_remove(caster, target, affect)\n  target:Send(\"|WFrostbite fades from you.|X\\n\\r\")\n  target:Message(\"|WFrostbite fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHAR, nil)\nend\n','function skill_frostbite_cost(caster, target, skill)\n\n  return 1\nend\n'),(40,'Taunt 1','taunt 1',12,'0;1;',2,'Taunts the target to attack you, but has no effect if the target is already attacking you','none',0,'0;','skill_taunt_1','function skill_taunt_1_cast(caster, target, sk)\r\n  caster:EnterCombat(target)\r\n  target:EnterCombat(caster)\r\n  caster:Send(\"|WYou taunt \" .. target:GetName() .. \".|X\\n\\r\")\r\n  caster:Message(\"|W\" .. caster:GetName() .. \" taunts \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\r\n\r\n  target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Taunt\", SPELLAFFECT_VISIBLE, 1, 0, 3, AFFECT_NONE, sk, \"Taunted\")\r\n\r\n  if(target:GetTarget() ~= nil) then\r\n    local saveme = target:GetTarget()\r\n    local threat_difference = target:GetThreatValue(saveme) - target:GetThreatValue(caster)\r\n    if(threat_difference > 0) then \r\n      target:UpdateThreat(caster, threat_difference, THREAT_OTHER)\r\n    end\r\n  end\r\nend\r\n','function skill_taunt_1_apply(caster, target, affect)\n  affect:ApplyAura(AURA_TAUNT, 1)\nend\n','','function skill_taunt_1_remove(caster, target, affect)\n    target:Message(\"|WTaunt fades from \" .. target:GetName() .. \".|X\", MSG_ROOM, nil)\nend\n','function skill_taunt_1_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not target:IsNPC()) then\n    caster:Send(\"This skill has no effect on players.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(41,'Kidney Shot','kidney shot',20,'',2,'Finishing move that stuns the target. Lasts longer per combo point: 1 point:2 seconds, 2 points:3 seconds, 3 points:4 seconds, 4 points:5 seconds, 5 points:6 seconds','25 energy & 1-5 combo points',0,'0;','skill_kidney_shot','function skill_kidney_shot_cast(caster, target, skill)\n  local combos = caster:SpendComboPoints(target)\n  if(combos == 0) then\n      caster:Send(\"You don\'t have combo points on that target.\\n\\r\")\n      return\n  end\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  caster:ConsumeEnergy(35)\n  local attack = caster:DoAttackRoll(target, SCHOOL_PHYSICAL)\n  if(attack == ATTACK_MISS) then\n    caster:Send(\"|WYour Kidney Shot misses \" .. target:GetName() .. \"|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Kidney Shot misses you.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Kidney Shot misses \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_DODGE) then\n    caster:Send(\"|W\" .. target:GetName() .. \" dodges your Kidney Shot.|X\\n\\r\")\n    target:Send(\"|WYou dodge \" .. caster:GetName() .. \"\'s Kidney Shot.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" dodges \" .. caster:GetName() .. \"\'s Kidney Shot.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_PARRY) then\n    caster:Send(\"|W\" .. target:GetName() .. \" parries your Kidney Shot.|X\\n\\r\")\n    target:Send(\"|WYou parry \" .. caster:GetName() .. \"\'s Kidney Shot.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" parries \" .. caster:GetName() .. \"\'s Kidney Shot.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  else\n    caster:Send(\"|WYour Kidney Shot hits \" .. target:GetName() .. \".|X\\r\\n\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Kidney Shot hits you.|X\\r\\n\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Kidney Shot hits \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n    target:CancelAutoAttack()\n    target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Kidney Shot\", SPELLAFFECT_VISIBLE, 1, 0, combos+1, AFFECT_NONE, skill, \"Stunned\")\n  end\nend\n','function skill_kidney_shot_apply(caster, target, affect)\n  caster:Send(target:GetName() .. \" is stunned by your Kidney Shot.|X\\r\\n\")\n  target:Send(\"|WYou have been stunned by \" .. caster:GetName() .. \"\'s Kidney Shot.|X\\r\\n\")\n  caster:Message(\"|W\" .. target:GetName() .. \" has been stunned by \" .. caster:GetName() .. \"\'s Kidney Shot.|X\", MSG_ROOM_NOTCHARVICT, target)\n  affect:ApplyAura(AURA_STUN, 1)\nend\n','','function skill_kidney_shot_remove(caster, target, affect)\n  if(affect.name == \"Kidney Shot\") then\n    target:Send(\"|WKidney Shot fades from you.|X\\r\\n\")\n    if(caster ~= nil) then\n      caster:Send(\"|WYour Kidney Shot fades from \" .. target:GetName() .. \".|X\\r\\n\")\n      target:Message(\"|WKidney Shot fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\n    else\n      target:Message(\"|WKidney Shot fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHAR, nil)\n    end\n  end\nend\n','function skill_kidney_shot_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_ENERGY, 25)) then\n      caster:Send(\"You don\'t have enough energy.\\n\\r\")\n      return 0\n  end\n  if(not caster:HasResource(RESOURCE_COMBO, 1)) then\n      caster:Send(\"You don\'t have any combo points.\\n\\r\")\n      return 0\n  end\n  return 1\nend\n'),(42,'Polymorph 4','polymorph 4',0,'',2,'Transforms the enemy into a sheep for up to 50 sec. The sheep cannot attack but will regenerate very quickly. Any damage will transform the target back into its normal form. Only one target can be polymorphed at a time.','150 mana',1.5,'0;','skill_polymorph_4','function skill_polymorph_4_cast(caster, target, skill)\n  caster:ConsumeMana(150)\n  --if caster has spell affect mypolymorphtarget, find that affect\'s target (via affect caster field) and unpolymorph them\n  local polytarget_affect = caster:HasSpellAffect(\"MyPolymorphTarget\")\n  if(polytarget_affect) then\n    local polytarget_ch = polytarget_affect:GetCaster()\n    caster:RemoveSpellAffect(true, \"MyPolymorphTarget\")\n    if(polytarget_ch) then\n        polytarget_ch:RemoveSpellAffect(true, \"Polymorph\")\n    end\n  end\n  target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Polymorph\", SPELLAFFECT_VISIBLE, 1, 25, 50, AFFECT_MAGIC, skill, \"Incapacitated. Cannot attack or cast spells. Increased health regeneration.\")\n  caster:AddSpellAffect(SPELLAFFECT_DEBUFF, target, \"MyPolymorphTarget\", SPELLAFFECT_HIDDEN, 1, 0, 50, AFFECT_NONE, skill, target:GetName() .. \" is my Polymorph target\")\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  if(caster:GetTarget() == target) then\n    caster:CancelAutoAttack()\n  end\n  target:CancelAutoAttack()\n  caster:Send(\"|W\" .. target:GetName() .. \" is affected by your Polymorph.|X\\r\\n\")\n  target:Send(\"|WYou are affected by \" ..  caster:GetName() .. \"\'s Polymorph.|X\\r\\n\")\n  caster:Message(\"|W\" .. target:GetName() .. \" is affected by \" .. caster:GetName() .. \"\'s Polymorph.|X\", MSG_ROOM_NOTCHARVICT, target)\n  if(caster:GetRoom() ~= target:GetRoom()) then\n    target:Message(\"|W\" .. target:GetName() .. \" is affected by \" .. caster:GetName() .. \"\'s Polymorph.|X\", MSG_ROOM_NOTCHARVICT, caster)\n  end\nend\n','function skill_polymorph_4_apply(caster, target, affect)\n  if(affect.name == \"Polymorph\") then\n    affect:ApplyAura(AURA_INCAPACITATE, 1)\n    affect:SaveDataString(\"cmd_look_cc\", \"|W(Polymorphed by \" .. caster:GetName() .. \")|X\") --used in cmd_look\n  end\nend\n','function skill_polymorph_4_tick(caster, target, affect)\n  if(affect.name == \"Polymorph\") then\n    target:AdjustHealth(target, target:GetMaxHealth())\n  end\nend\n','function skill_polymorph_4_remove(caster, target, affect)\n  if(affect.name == \"Polymorph\") then\n    target:Send(\"|WPolymorph fades from you.|X\\r\\n\")\n    if(caster ~= nil) then\n      caster:Send(\"|WYour Polymorph fades from \" .. target:GetName() .. \".|X\\r\\n\")\n      target:Message(\"|WPolymorph fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\n    else\n      target:Message(\"|WPolymorph fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHAR, nil)\n    end\n  end\n  if(affect.name == \"MyPolymorphTarget\") then\n\n  end\nend\n','function skill_polymorph_4_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 150)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  if(target:IsTapped() and not caster:HasTap(target)) then\n    caster:Send(\"That target is already tapped.\\r\\n\")\n    return 0\n  end\n  return 1\nend\n'),(43,'Whirlwind','whirlwind',0,'',5,'In a whirlwind of steel you attack up to 4 enemies, causing weapon damage to each.','25 rage',0,'0;','skill_whirlwind','function skill_whirlwind_cast(caster, target, skill)\n  caster:ConsumeRage(25)\n  caster:Send(\"|WYou cast Whirlwind.|X\\r\\n\")\n  caster:Message(\"|W\" .. caster:GetName() .. \" casts Whirlwind.|X\", MSG_ROOM_NOTCHAR, nil)\n  local ctr = 0;\n  for index, ch in pairs(caster:GetRoom().characters) do\n    if(ctr >= 4) then\n      break\n    end\n    if(caster:CanAttack(ch)) then\n      ctr = ctr + 1\n      caster:EnterCombat(ch)\n      ch:EnterCombat(caster)\n      local damage = caster:GetMainhandDamageRandomHit()\n      local attack = caster:DoAttackRoll(ch, SCHOOL_PHYSICAL)\n      if(attack == ATTACK_MISS) then\n        caster:Send(\"|WYour Whirlwind misses \" .. ch:GetName() .. \".|X\\n\\r\")\n        ch:Send(\"|W\" .. caster:GetName() .. \"\'s Whirlwind misses you.|X\\n\\r\")\n        caster:Message(\"|W\" .. caster:GetName() .. \"\'s Whirlwind misses \" .. ch:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, ch)\n        goto continue\n      elseif (attack == ATTACK_DODGE) then\n        caster:Send(\"|W\" .. ch:GetName() .. \" dodges your Whirlwind.|X\\n\\r\")\n        ch:Send(\"|WYou dodge \" .. caster:GetName() .. \"\'s Whirlwind.|X\\n\\r\")\n        caster:Message(\"|W\" .. ch:GetName() .. \" dodges \" .. caster:GetName() .. \"\'s Whirlwind.|X\", MSG_ROOM_NOTCHARVICT, ch)\n        goto continue\n      elseif (attack == ATTACK_PARRY) then\n        caster:Send(\"|W\" .. ch:GetName() .. \" parries your Whirlwind.|X\\n\\r\")\n        ch:Send(\"|WYou parry \" .. caster:GetName() .. \"\'s Whirlwind.|X\\n\\r\")\n        caster:Message(\"|W\" .. ch:GetName() .. \" parries \" .. caster:GetName() .. \"\'s Whirlwind.|X\", MSG_ROOM_NOTCHARVICT, ch)\n        goto continue\n      elseif (attack == ATTACK_CRIT) then\n        damage = math.ceil(damage * 1.5)\n        damage = math.ceil(damage - (damage * ch:CalculateArmorMitigation()))\n        local absorbed = ch:HandleDamageAbsorb(damage)\n        caster:Send(\"|WYour Whirlwind CRITS \" .. ch:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n        if(absorbed > 0) then\n          caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n        end\n        caster:Send(\".|X\\r\\n\")\n        ch:Send(\"|W\" .. caster:GetName() .. \"\'s Whirlwind CRITS you for \" .. (damage - absorbed) .. \" damage\")\n        if(absorbed > 0) then\n          ch:Send(\" (\" .. absorbed .. \" absorbed)\")\n        end\n        ch:Send(\".|X\\r\\n\")\n        caster:Message(\"|W\" .. caster:GetName() .. \"\'s Whirlwind CRITS \" .. ch:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, ch)\n        damage = damage - absorbed\n      else\n        damage = math.ceil(damage - (damage * ch:CalculateArmorMitigation()))\n        local absorbed = ch:HandleDamageAbsorb(damage)\n        caster:Send(\"|WYour Whirlwind hits \" .. ch:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n        if(absorbed > 0) then\n          caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n        end\n        caster:Send(\".|X\\r\\n\")\n        ch:Send(\"|W\" .. caster:GetName() .. \"\'s Whirlwind hits you for \" .. (damage - absorbed) .. \" damage\")\n        if(absorbed > 0) then\n          ch:Send(\" (\" .. absorbed .. \" absorbed)\")\n        end\n        ch:Send(\".|X\\r\\n\")\n        caster:Message(\"|W\" .. caster:GetName() .. \"\'s Whirlwind hits \" .. ch:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, ch)\n        damage = damage - absorbed\n      end\n      caster:OneHit(ch, damage)\n      ::continue::\n    end\n  end\nend\n','','','','function skill_whirlwind_cost(caster, target, skill)\n  if(not caster:HasResource(RESOURCE_RAGE, 25)) then\n    caster:Send(\"You don\'t have enough rage.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(44,'Resurrection','resurrection',0,'',4,'Brings a dead player back to life with 25% health and mana. Cannot be cast when in combat.','1000 mana',10,'0;1;','skill_resurrection','function skill_resurrection_cast(caster, target, skill)\n  caster:ConsumeMana(1000)\n  caster:Send(\"|WYou cast Resurrection on \" .. target:GetName() .. \".|X\\r\\n\")\n  target:Send(\"|W\" .. caster:GetName() .. \" casts Resurrection on you.|X\\r\\n\")\n  target:Message(\"|W\" .. caster:GetName() .. \" casts Resurrection on \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\n  target:AsPlayer():LuaAddQuery(\"Accept \" .. caster:GetName() .. \"\'s Resurrection? (\'res\')\", caster:GetRoom(), \"PlayerResQuery\")\nend\n','','','','function skill_resurrection_cost(caster, target, skill)\n  if(caster:InCombat()) then\n    caster:Send(\"This spell cannot be can\'t while in combat.\\n\\r\")\n    return 0\n  end\n  if(target:IsNPC()) then\n    caster:Send(\"This spell can only be cast on players.\\n\\r\")\n    return 0\n  end\n  if(target:IsAlive()) then\n    caster:Send(\"That target is still alive!\\n\\r\")\n    return 0\n  end\n  if(target:IsGhost()) then\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 1000)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(45,'Shield Slam','shield slam',6,'',2,'Slam the target with your shield, causing 50% of strength damage. Causes 200% threat.','20 rage',0,'0;','skill_shield_slam','function skill_shield_slam_cast(caster, target, skill)\n  caster:ConsumeRage(20)\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  local damage = math.ceil(caster:GetStrength() * 0.5)\n  local attack = caster:DoAttackRoll(target, SCHOOL_PHYSICAL)\n  if(attack == ATTACK_MISS) then\n    caster:Send(\"|WYour Shield Slam misses \" .. target:GetName() .. \"|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Shield Slam misses you.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Shield Slam misses \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_DODGE) then\n    caster:Send(\"|W\" .. target:GetName() .. \" dodges your Shield Slam.|X\\n\\r\")\n    target:Send(\"|WYou dodge \" .. caster:GetName() .. \"\'s Shield Slam.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" dodges \" .. caster:GetName() .. \"\'s Shield Slam.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_PARRY) then\n    caster:Send(\"|W\" .. target:GetName() .. \" parries your Shield Slam.|X\\n\\r\")\n    target:Send(\"|WYou parry \" .. caster:GetName() .. \"\'s Shield Slam.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" parries \" .. caster:GetName() .. \"\'s Shield Slam.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_CRIT) then\n    damage = math.ceil(damage * 1.5)\n    damage = math.ceil(damage - (damage * target:CalculateArmorMitigation()))\n    local absorbed = target:HandleDamageAbsorb(damage)\n    caster:Send(\"|WYour Shield Slam CRITS \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    caster:Send(\".|X\\r\\n\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Shield Slam CRITS you for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:Send(\".|X\\r\\n\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Shield Slam CRITS \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n    damage = damage - absorbed\n  else\n    damage = math.ceil(damage - (damage * target:CalculateArmorMitigation()))\n    local absorbed = target:HandleDamageAbsorb(damage)\n    caster:Send(\"|WYour Shield Slam hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    caster:Send(\".|X\\r\\n\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Shield Slam hits you for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:Send(\".|X\\r\\n\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Shield Slam hits \" .. target:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n    damage = damage - absorbed\n  end\n  target:UpdateThreat(caster, damage, THREAT_OTHER)\n  caster:OneHit(target, damage)\nend\n','','','','function skill_shield_slam_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_RAGE, 20)) then\n    caster:Send(\"You don\'t have enough rage.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(46,'Sunder Armor','sunder armor',0,'',2,'Sunders the target\'s armor, reducing it by 30% of strength. Causes threat equal to mainhand weapon damage. Can be applied up to 5 times. Lasts 30 sec.','15 rage',0,'0;','skill_sunder_armor','function skill_sunder_armor_cast(caster, target, skill)\n  caster:ConsumeRage(15)\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  local threat = caster:GetMainhandDamageRandomHit()\n  local attack = caster:DoAttackRoll(target, SCHOOL_PHYSICAL)\n  if(attack == ATTACK_MISS) then\n    caster:Send(\"|WYour Sunder Armor misses \" .. target:GetName() .. \"|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Sunder Armor misses you.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Sunder Armor misses \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_DODGE) then\n    caster:Send(\"|W\" .. target:GetName() .. \" dodges your Sunder Armor.|X\\n\\r\")\n    target:Send(\"|WYou dodge \" .. caster:GetName() .. \"\'s Sunder Armor.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" dodges \" .. caster:GetName() .. \"\'s Sunder Armor.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  elseif (attack == ATTACK_PARRY) then\n    caster:Send(\"|W\" .. target:GetName() .. \" parries your Sunder Armor.|X\\n\\r\")\n    target:Send(\"|WYou parry \" .. caster:GetName() .. \"\'s Sunder Armor.|X\\n\\r\")\n    caster:Message(\"|W\" .. target:GetName() .. \" parries \" .. caster:GetName() .. \"\'s Sunder Armor.|X\", MSG_ROOM_NOTCHARVICT, target)\n    return\n  end\n  caster:Send(\"|WYour Sunder Armor hits \" .. target:GetName() .. \".|X\\r\\n\")\n  target:Send(\"|W\" .. caster:GetName() .. \"\'s Sunder Armor hits you.|X\\r\\n\")\n  caster:Message(\"|W\" .. caster:GetName() .. \"\'s Sunder Armor hits \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n  target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Sunder Armor\", SPELLAFFECT_VISIBLE, 5, 0, 30, AFFECT_NONE, skill, \"Armor decreased by \" .. math.ceil(caster:GetStrength() * 0.30) .. \" per stack\")\n  target:UpdateThreat(caster, threat, THREAT_OTHER)\nend\n','function skill_sunder_armor_apply(caster, target, affect)\n  local mod = 0\n  if(affect:HasAura(AURA_MODIFY_ARMOR)) then\n    mod = affect:GetAuraModifier(AURA_MODIFY_ARMOR)\n  end\n  affect:RemoveAura(AURA_MODIFY_ARMOR)\n  affect:ApplyAura(AURA_MODIFY_ARMOR, mod - math.ceil(caster:GetStrength() * 0.30))\nend\n','','function skill_sunder_armor_remove(caster, target, affect)\n  if(caster ~= nil) then\n    caster:Send(\"|WYour Sunder Armor fades from \" .. target:GetName() .. \".|X\\r\\n\")\n  end\n  target:Send(\"|WSunder Armor fades from you.|X\\r\\n\")\nend\n','function skill_sunder_armor_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_RAGE, 15)) then\n    caster:Send(\"You don\'t have enough rage.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(47,'Blind','blind',300,'',3,'Blinds the target, causing it to wander disoriented for up to 30 sec. Any damage caused will remove the effect.','30 energy',0,'0;','skill_blind','function skill_blind_cast(caster, target, skill)\n  caster:ConsumeEnergy(30)\n  target:AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Blind\", SPELLAFFECT_VISIBLE, 1, 0, 30, AFFECT_NONE, skill, \"Blind and disoriented.\")\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  target:CancelAutoAttack()\n  if(caster:GetTarget() == target) then\n    caster:CancelAutoAttack()\n  end\n  caster:Send(\"|W\" .. target:GetName() .. \" is affected by your Blind.|X\\r\\n\")\n  target:Send(\"|WYou are affected by \" ..  caster:GetName() .. \"\'s Blind.|X\\r\\n\")\n  caster:Message(\"|W\" .. target:GetName() .. \" is affected by \" .. caster:GetName() .. \"\'s Blind.|X\", MSG_ROOM_NOTCHARVICT, target)\nend\n','function skill_blind_apply(caster, target, affect)\n  if(affect.name == \"Blind\") then\n    affect:ApplyAura(AURA_INCAPACITATE, 1)\n    affect:SaveDataString(\"cmd_look_cc\", \"|W(Blinded by \" .. caster:GetName() .. \")|X\") --used in cmd_look\n  end\nend\n','','function skill_blind_remove(caster, target, affect)\n  if(affect.name == \"Blind\") then\n    target:Send(\"|WBlind fades from you.|X\\r\\n\")\n    if(caster ~= nil) then\n      caster:Send(\"|WYour Blind fades from \" .. target:GetName() .. \".|X\\r\\n\")\n      target:Message(\"|WBlind fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\n    else\n      target:Message(\"|WBlind fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHAR, nil)\n    end\n  end\nend\n','function skill_blind_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_ENERGY, 30)) then\n    caster:Send(\"You don\'t have enough energy.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(48,'Renew 10','Renew',0,'',4,'Heals the target for 970 + 50% of intellect health over 15 seconds','410 mana',0,'0;','skill_renew_10','function skill_renew_10_cast(caster, target, sk)\n  caster:ConsumeMana(410)\n  local healpertick = math.ceil((970 + caster:GetIntellect() * 0.5) / 5)\n  if(caster ~= target) then\n    caster:Send(\"|WYou cast Renew on \" .. target:GetName() .. \".|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \" casts Renew on you.|X\\n\\r\")\n  else\n    caster:Send(\"|WYou cast Renew on yourself.|X\\n\\r\")\n  end\n  caster:Message(\"|W\" .. caster:GetName() .. \" casts Renew on \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n  target:AddSpellAffect(SPELLAFFECT_BUFF, caster, \"Renew\", SPELLAFFECT_VISIBLE, 1, 5, 15.0, AFFECT_MAGIC, sk, \"Healing \" .. healpertick .. \" health every 3 seconds\")\nend\n','function skill_renew_10_apply(caster, target, affect)\n  if(caster == target) then\n    target:Send(\"|WYou are affected by Renew.|X\\n\\r\")\n  else\n    caster:Send(\"|W\" .. target:GetName() .. \" is affected by your Renew.|X\\n\\r\")\n    target:Send(\"|WYou are affected by \" .. caster:GetName() .. \"\'s Renew.|X\\n\\r\")\n  end\nend\n','function skill_renew_10_tick(caster, target, affect)\n  local healpertick = math.ceil((970 + caster:GetIntellect() * 0.5) / 5)\n  local actualheal = healpertick\n\n  if(healpertick > (target:GetMaxHealth() - target:GetHealth())) then\n    actualheal = target:GetMaxHealth() - target:GetHealth()\n  end\n\n  --caster may be nil in tick and remove functions\n  if(affect:GetCasterName() == target:GetName()) then\n      target:Send(\"|WYour Renew restores \" .. actualheal .. \" health.|X\\n\\r\")\n  else\n    if(caster ~= nil) then\n      caster:Send(\"|WYour Renew heals \" .. target:GetName() .. \" for \" .. actualheal .. \" health.|X\\n\\r\")\n    end\n    target:Send(\"|W\" .. affect:GetCasterName() .. \"\'s Renew restores \" .. actualheal .. \" health.|X\\n\\r\")\n  end\n  target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s Renew heals \" .. target:GetName() .. \" for \" .. actualheal .. \" health.|X\", MSG_ROOM_NOTCHARVICT, caster)\n\n  if(caster ~= nil) then\n    caster:OneHeal(target, actualheal)\n  else\n    target:AdjustHealth(caster, actualheal)\n  end\nend\n','function skill_renew_10_remove(caster, target, affect)\n  --caster may be nil in tick and remove functions\n  if(affect:GetCasterName() == target:GetName()) then\n    target:Send(\"|WYour Renew fades.|X\\n\\r\")\n  else\n    if(caster ~= nil) then\n      caster:Send(\"|WYour Renew fades from \" .. target:GetName() .. \".|X\\n\\r\")\n    end\n    target:Send(\"|W\" .. affect:GetCasterName() .. \"\'s Renew fades from you.|X\\n\\r\")\n  end\n  target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s Renew fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\nend\n','function skill_renew_10_cost(caster, target, skill)\n  if(not caster:CanHeal(target)) then\n    caster:Send(\"You can\'t heal that target.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 410)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(49,'Prayer of Healing 5','prayer of healing 5',0,'',5,'A powerful prayer heals all group members in the room for 1075 + 100% of intellect','1070 mana',3,'0;','skill_prayer_of_healing_5','function skill_prayer_of_healing_5_cast(caster, target, skill)\n  caster:ConsumeMana(1070)\n  local healval = math.ceil(1075 + caster:GetIntellect())\n  local overheal = \"\"\n  if(caster:GetGroup() == nil) then\n    if(healval > (caster:GetMaxHealth() - caster:GetHealth())) then\n        overheal =  \" (\" .. (healval - (caster:GetMaxHealth() - caster:GetHealth())) .. \" overheal)\" \n        healval = caster:GetMaxHealth() - caster:GetHealth()\n    end\n    caster:Send(\"|WYou have completed your spell. You gain \" .. healval .. \" health\")\n    if(overheal ~= 0) then\n        caster:Send(overheal)\n    end\n    caster:Send(\".|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() ..\" spell. \" .. caster:GetName() .. \" gains \" .. healval .. \" health.|X\", MSG_ROOM_NOTCHAR, nil)\n    caster:OneHeal(caster, healval)\n  else\n    for i = 0, MAX_RAID_SIZE - 1 do\n      local player = caster:GetGroup():GetMember(i)\n      if(player ~= nil) then\n        if(caster == player) then\n          if(healval > (caster:GetMaxHealth() - caster:GetHealth())) then\n            overheal =  \" (\" .. (healval - (caster:GetMaxHealth() - caster:GetHealth())) .. \" overheal)\" \n            healval = caster:GetMaxHealth() - caster:GetHealth()\n          end\n          caster:Send(\"|WYou have completed your spell. You gain \" .. healval .. \" health\")\n          if(overheal ~= 0) then\n            caster:Send(overheal)\n          end\n          caster:Send(\".|X\\n\\r\")\n          caster:Message(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() ..\" spell. \" .. caster:GetName() .. \" gains \" .. healval .. \" health.|X\", MSG_ROOM_NOTCHAR, nil)\n        elseif(caster:GetCharacterRoom(player) ~= nil) then\n          if(healval > (player:GetMaxHealth() - player:GetHealth())) then\n            overheal =  \" (\" .. (healval - (player:GetMaxHealth() - player:GetHealth())) .. \" overheal)\" \n            healval = player:GetMaxHealth() - player:GetHealth()\n          end\n          caster:Send(\"|WYou have completed your spell. \" .. player:GetName() .. \" gains \" .. healval .. \" health\")\n          if(overheal ~= 0) then\n            caster:Send(overheal)\n          end\n          caster:Send(\".|X\\n\\r\")\n          player:Send(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() .. \" spell. You gain \" .. healval .. \" health.|X\\n\\r\")\n          caster:Message(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() ..\" spell. \" .. player:GetName() .. \" gains \" .. healval .. \" health.|X\", MSG_ROOM_NOTCHARVICT, player)\n        end\n        caster:OneHeal(player, healval)\n      end\n    end\n  end\nend\n','','','','function skill_prayer_of_healing_5_cost(caster, target, skill)\n  if(not caster:HasResource(RESOURCE_MANA, 1070)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(50,'Greater Heal 5','greater heal 5',0,'',4,'A slow casting spell that heals a single target for 2100 + 100% of intellect','710 mana',3,'0;','skill_greater_heal_5','function skill_greater_heal_5_cast(caster, target, skill)\n  local healval = math.ceil(2100 + caster:GetIntellect())\n  local overheal = \"\"\n  if(caster == target) then\n    if(healval > (caster:GetMaxHealth() - caster:GetHealth())) then\n      overheal =  \" (\" .. (healval - (caster:GetMaxHealth() - caster:GetHealth())) .. \" overheal)\" \n      healval = caster:GetMaxHealth() - caster:GetHealth()\n    end\n    caster:Send(\"|WYou have completed your spell. You gain \" .. healval .. \" health\")\n    if(overheal ~= 0) then\n      caster:Send(overheal)\n    end\n    caster:Send(\".|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() ..\" spell. \" .. caster:GetName() .. \" gains \" .. healval .. \" health.|X\", MSG_ROOM_NOTCHAR, nil)\n  else\n    if(healval > (target:GetMaxHealth() - target:GetHealth())) then\n      overheal =  \" (\" .. (healval - (target:GetMaxHealth() - target:GetHealth())) .. \" overheal)\" \n      healval = target:GetMaxHealth() - target:GetHealth()\n    end\n    caster:Send(\"|WYou have completed your spell. \" .. target:GetName() .. \" gains \" .. healval .. \" health\")\n    if(overheal ~= 0) then\n      caster:Send(overheal)\n    end\n    caster:Send(\".|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() .. \" spell. You gain \" .. healval .. \" health.|X\\n\\r\")\n    caster:Message(\"|W\" .. caster:GetName() .. \" has completed \" .. caster:HisHer() ..\" spell. \" .. target:GetName() .. \" gains \" .. healval .. \" health.|X\", MSG_ROOM_NOTCHARVICT, target)\n  end\n  caster:ConsumeMana(710)\n  caster:OneHeal(target, healval)\nend\n','','','','function skill_greater_heal_5_cost(caster, target, skill)\n  if(not caster:CanHeal(target)) then\n    caster:Send(\"You can\'t heal that target.\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 710)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  if(caster:IsFighting(target)) then\n    caster:Send(\"You can\'t heal the target you\'re attacking.\\n\\r\")\n    return\n  end\n  return 1\nend\n'),(51,'Second Wind','second wind (trinket)',600,'',5,'Restores 30 mana every 1 sec for 10sec.','item 52 on use',0,'0;','item_second_wind','function item_second_wind_cast(caster, target, skill)\n  caster:AddSpellAffect(SPELLAFFECT_BUFF, caster, \"Second Wind\", SPELLAFFECT_VISIBLE, 1, 10, 10, AFFECT_NONE, skill, \"Restores 30 mana every second for 10 seconds\")\n  caster:SetCooldown(skill, -1)\nend\n','function item_second_wind_apply(caster, target, affect)\n  caster:Send(\"|WYou are affected by Second Wind.|X\\r\\n\");\nend\n','function item_second_wind_tick(caster, target, affect)\n  caster:AdjustMana(caster, 30)\nend\n','function item_second_wind_remove(caster, target, affect)\n  caster:Send(\"|WSecond Wind fades from you.|X\\r\\n\")\nend\n','function item_second_wind_cost(caster, target, skill)\n  return 1\nend\n'),(52,'Burst of Knowledge','burst of knowledge (trinket)',600,'',5,'Reduces mana cost of all spells by 100 for 10sec.','item 58 on use',0,'0;','item_burst_of_knowledge','function item_burst_of_knowledge_cast(caster, target, skill)\n  caster:AddSpellAffect(SPELLAFFECT_BUFF, caster, \"Burst of Knowledge\", SPELLAFFECT_VISIBLE, 1, 0, 10, AFFECT_NONE, skill, \"Reduces mana cost of all spells by 100\")\n  caster:SetCooldown(skill, -1)\nend\n','function item_burst_of_knowledge_apply(caster, target, affect)\r\n  caster:Send(\"|WYou are affected by Burst of Knowledge.|X\\r\\n\")\r\n  affect:ApplyAura(AURA_MANA_COST, -100)\r\nend\r\n','','function item_burst_of_knowledge_remove(caster, target, affect)\n  caster:Send(\"|WBurst of Knowledge fades from you.|X\\r\\n\")\nend\n','function item_burst_of_knowledge_cost(caster, target, skill)\n  return 1\nend\n'),(53,'Summon Spawn of Bael\'Gar','summon spawn of bael\'gar',0,'',5,'Summons 1 Spawn of Bael\'Gar in the room. The summoning also inflicts 500 damage to enemies in the room.','none',4,'0;2;','skill_summon_spawn_of_baelgar','function skill_summon_spawn_of_baelgar_cast(caster, target, skill)\n  Game:GetGame():LoadNPCRoom(34, caster:GetRoom())\n  caster:Message(\"|WSpawn of Bael\'Gar has arrived.|X\", MSG_ROOM, nil)\n  for index, ch in pairs(caster:GetRoom().characters) do\n    if(ch:IsPlayer()) then\n      local damage = 500\n      local absorbed = ch:HandleDamageAbsorb(damage)\n      damage = damage - absorbed\n      ch:Message(\"|WThe summoning of \" .. caster:GetName() .. \"\'s spawn hits \" .. ch:GetName() .. \" for \" .. damage .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, caster) \n      ch:Send(\"|WThe summoning of \" .. caster:GetName() .. \"\'s spawn hits you for \" .. damage .. \" damage\") \n      if(absorbed > 0) then\n        ch:Send(\" (\" .. absorbed .. \" absorbed)\")\n      end\n      ch:Send(\".|X\\r\\n\")\n      caster:EnterCombat(ch)\n      ch:EnterCombat(caster)\n      caster:OneHit(ch, damage)\n    end\n  end\nend\n','','','','function skill_summon_spawn_of_baelgar_cost(caster, target, skill)\n  return 1\nend\n'),(54,'Magma Splash','magma splash',120,'0;1;',0,'Deals Fire damage to the current target and additional Fire damage every 3 sec for 30 sec','none',0,'0;','skill_magma_splash','function skill_magma_splash_cast(caster, target, skill)\n  caster:Message(\"|W\" .. caster:GetName() .. \" casts Magma Splash on \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHAR, nil)\n  target:AddSpellAffect(SPELLAFFECT_BUFF, caster, \"Magma Splash\", SPELLAFFECT_VISIBLE, 1, 10, 30, AFFECT_MAGIC, skill, \"Deals Fire damage to the current target and additional Fire damage every 3 sec for 30 sec\")\n  if(target:GetTarget() ~= nil) then\n    local damage = 125\n    local absorbed = target:GetTarget():HandleDamageAbsorb(damage)\n\n    target:Send(\"|WYour Magma Splash hits \" .. target:GetTarget():GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:Send(\".|X\\r\\n\")\n    target:GetTarget():Send(\"|W\" .. target:GetName() .. \"\'s Magma Splash hits you for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n      target:GetTarget():Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:GetTarget():Send(\".|X\\r\\n\")\n\n    target:Message(\"|W\" .. caster:GetName() .. \"\'s Magma Splash hits \" .. target:GetTarget():GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target:GetTarget())\n    damage = damage - absorbed\n    target:EnterCombat(target:GetTarget())\n    target:GetTarget():EnterCombat(target)\n    target:OneHit(target:GetTarget(), damage)\n  end\nend\n','function skill_magma_splash_apply(caster, target, affect)\n  caster:Message(\"|W\" .. caster:GetName() .. \" is affected by Magma Splash.|X\", MSG_ROOM_NOTCHAR, nil)\nend\n','function skill_magma_splash_tick(caster, target, affect)\n  if(target:GetTarget() == nil) then --This skill sits on the target and damages their target\n    return\n  end\n\n  local damage = 100\n  local absorbed = target:GetTarget():HandleDamageAbsorb(damage)\n  damage = damage - absorbed\n  target:GetTarget():Send(\"|W\" .. affect:GetCasterName() .. \"\'s Magma Splash damages you for \" .. damage .. \" health\") \n  if(absorbed > 0) then\n    target:GetTarget():Send(\" (\" .. absorbed .. \" absorbed)\")\n  end\n  target:GetTarget():Send(\".|X\\r\\n\")\n\n  target:GetTarget():Message(\"|W\" .. affect:GetCasterName() .. \"\'s Magma Splash damages \" .. target:GetTarget():GetName() .. \" for \" .. damage .. \" health.|X\", MSG_ROOM_NOTCHARVICT, target) \n  target:Send(\"|WYour Magma Splash damages \" .. target:GetTarget():GetName() .. \" for \" .. damage .. \" health\") \n  if(absorbed > 0) then\n    target:Send(\" (\" .. absorbed .. \" absorbed)\")\n  end\n  target:Send(\".|X\\r\\n\")\n  target:OneHit(target:GetTarget(), damage) \nend\n','function skill_magma_splash_remove(caster, target, affect)\n  if(caster ~= nil) then\n    caster:Send(\"|WYour Magma Splash fades from \" .. target:GetName() .. \".|X\\n\\r\")\n  end\n  target:Send(\"|W\" .. affect:GetCasterName() .. \"\'s Magma Splash fades from you.|X\\n\\r\")\n  target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s Magma Splash fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\nend\n','function skill_magma_splash_cost(caster, target, skill)\n  return 1\nend\n'),(55,'Pummel','pummel',10,'0;1;',2,'Pummel the target, interrupting spellcasting and preventing any spell in that school from being cast for 4 sec.','10 rage',0,'0;','skill_pummel','function skill_pummel_cast(caster, target, sk)\n  caster:ConsumeRage(10)\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  local attack = caster:DoAttackRoll(target, SCHOOL_PHYSICAL)\n  if(attack == ATTACK_MISS) then\n    caster:Send(\"|WYour Pummel misses \" .. target:GetName() .. \"|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Pummel misses you.|X\\n\\r\")\n    target:Message(\"|W\" .. caster:GetName() .. \"\'s Pummel misses \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\n    return\n  elseif (attack == ATTACK_DODGE) then\n    caster:Send(\"|W\" .. target:GetName() .. \" dodges your Pummel.|X\\n\\r\")\n    target:Send(\"|WYou dodge \" .. caster:GetName() .. \"\'s Pummel.|X\\n\\r\")\n    target:Message(\"|W\" .. target:GetName() .. \" dodges \" .. caster:GetName() .. \"\'s Pummel.|X\", MSG_ROOM_NOTCHARVICT, caster)\n    return\n  elseif (attack == ATTACK_PARRY) then\n    caster:Send(\"|W\" .. target:GetName() .. \" parries your Pummel.|X\\n\\r\")\n    target:Send(\"|WYou parry \" .. caster:GetName() .. \"\'s Pummel.|X\\n\\r\")\n    target:Message(\"|W\" .. target:GetName() .. \" parries \" .. caster:GetName() .. \"\'s Pummel.|X\", MSG_ROOM_NOTCHARVICT, caster)\n    return\n  end\n  caster:Send(\"|WYour Pummel hits \" .. target:GetName() .. \".|X\\r\\n\")\n  target:Send(\"|WYou are hit by \" .. caster:GetName() .. \"\'s Pummel.|X\\r\\n\")\n  target:Message(\"|W\" .. target:GetName() .. \" is hit by \" .. caster:GetName() .. \"\'s Pummel.|X\", MSG_ROOM_NOTCHARVICT, caster)\n  if(target:HasActiveDelay()) then\n    local cast_skill = target:GetDelaySkill()\n    if(cast_skill ~= nil) then\n      caster:Send(\"|W\" .. target:GetName() .. \"\'s \" .. cast_skill:GetShortName() .. \" has been interrupted!|X\\r\\n\")\n      target:Send(\"|W\" .. cast_skill:GetShortName() .. \" has been interrupted!|X\\r\\n\")\n      target:Message(\"|W\" .. target:GetName() .. \"\'s \" .. cast_skill:GetShortName() .. \" has been interrupted!|X\", MSG_ROOM_NOTCHARVICT, caster)\n    end\n    target:CancelActiveDelay()\n  end\nend\n','','','','function skill_pummel_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_RAGE, 10)) then\n      caster:Send(\"You don\'t have enough rage.\\n\\r\")\n      return 0\n  end\n  return 1\nend\n'),(56,'Kick','kick',10,'0;1;',2,'A quick kick that interrupts spellcasting and prevents any spell in that school from being cast for 5 sec.','25 energy',0,'0;','skill_kick','function skill_kick_cast(caster, target, sk)\n  caster:ConsumeEnergy(25)\n  caster:EnterCombat(target)\n  target:EnterCombat(caster)\n  local attack = caster:DoAttackRoll(target, SCHOOL_PHYSICAL)\n  if(attack == ATTACK_MISS) then\n    caster:Send(\"|WYour Kick misses \" .. target:GetName() .. \"|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \"\'s Kick misses you.|X\\n\\r\")\n    target:Message(\"|W\" .. caster:GetName() .. \"\'s Kick misses \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\n    return\n  elseif (attack == ATTACK_DODGE) then\n    caster:Send(\"|W\" .. target:GetName() .. \" dodges your Kick.|X\\n\\r\")\n    target:Send(\"|WYou dodge \" .. caster:GetName() .. \"\'s Kick.|X\\n\\r\")\n    target:Message(\"|W\" .. target:GetName() .. \" dodges \" .. caster:GetName() .. \"\'s Kick.|X\", MSG_ROOM_NOTCHARVICT, caster)\n    return\n  elseif (attack == ATTACK_PARRY) then\n    caster:Send(\"|W\" .. target:GetName() .. \" parries your Kick.|X\\n\\r\")\n    target:Send(\"|WYou parry \" .. caster:GetName() .. \"\'s Kick.|X\\n\\r\")\n    target:Message(\"|W\" .. target:GetName() .. \" parries \" .. caster:GetName() .. \"\'s Kick.|X\", MSG_ROOM_NOTCHARVICT, caster)\n    return\n  end\n  caster:Send(\"|WYour Kick hits \" .. target:GetName() .. \".|X\\r\\n\")\n  target:Send(\"|WYou are hit by \" .. caster:GetName() .. \"\'s Kick.|X\\r\\n\")\n  target:Message(\"|W\" .. target:GetName() .. \" is hit by \" .. caster:GetName() .. \"\'s Kick.|X\", MSG_ROOM_NOTCHARVICT, caster)\n  if(target:HasActiveDelay()) then\n    local cast_skill = target:GetDelaySkill()\n    if(cast_skill ~= nil) then\n      caster:Send(\"|W\" .. target:GetName() .. \"\'s \" .. cast_skill:GetShortName() .. \" has been interrupted!|X\\r\\n\")\n      target:Send(\"|W\" .. cast_skill:GetShortName() .. \" has been interrupted!|X\\r\\n\")\n      target:Message(\"|W\" .. target:GetName() .. \"\'s \" .. cast_skill:GetShortName() .. \" has been interrupted!|X\", MSG_ROOM_NOTCHARVICT, caster)\n    end\n    target:CancelActiveDelay()\n  end\nend\n','','','','function skill_kick_cost(caster, target, skill)\n  if(not caster:CanAttack(target)) then\n    caster:Send(\"You can\'t attack that target.\\n\\r\")\n    return 0\n  end\n  if(not target:IsAlive()) then\n    caster:Send(\"That target is already dead!\\n\\r\")\n    return 0\n  end\n  if(not caster:GetCharacterRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_ENERGY, 25)) then\n      caster:Send(\"You don\'t have enough energy.\\n\\r\")\n      return 0\n  end\n  return 1\nend\n'),(57,'Counterspell','counterspell',24,'0;1;',2,'Counters the enemy\'s spellcast, preventing any spell from that school of magic from being cast for 8 sec.','180 mana',0,'0;','skill_counterspell','','','','',''),(58,'Fire Storm','fire storm',0,'0;1;',2,'Calls down a pillar of flame, burning all enemies in a selected area for 324 to 377 Fire damage and an additional 185 to 216 damage every 3 sec. for 30sec.','none',2,'0;','skill_fire_storm','function skill_fire_storm_cast(caster, target, skill)\n\n    caster:Message(\"|W\" .. caster:GetName() .. \"\'s Fire Storm hits \" .. target:GetName() .. \" for \" .. damage .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target)\n    target:Message(\"|W\" .. caster:GetName() .. \" casts Fire Storm on you.|X\", MSG_CHAR, nil)\n\n    if(caster:GetRoom() ~= target:GetRoom()) then\n    target:Message(\"|W\" .. caster:GetName() .. \" casts Fire Storm on \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHAR, nil)\n    end\n\n    target:GetRoom():AddSpellAffect(SPELLAFFECT_DEBUFF, caster, \"Fire Storm\", SPELLAFFECT_VISIBLE, 1, 10, 30, AFFECT_MAGIC, skill, \"Deals Fire damage to the target and additional Fire damage to everyone in the room every 3 sec for 30 sec\")\n  \n    local damage = 324\n    local absorbed = target:HandleDamageAbsorb(damage)\n\n    target:Send(\"|WYour Magma Splash hits \" .. target:GetTarget():GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n        target:Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:Send(\".|X\\r\\n\")\n    target:GetTarget():Send(\"|W\" .. target:GetName() .. \"\'s Magma Splash hits you for \" .. (damage - absorbed) .. \" damage\")\n    if(absorbed > 0) then\n        target:GetTarget():Send(\" (\" .. absorbed .. \" absorbed)\")\n    end\n    target:GetTarget():Send(\".|X\\r\\n\")\n\n    target:Message(\"|W\" .. caster:GetName() .. \"\'s Magma Splash hits \" .. target:GetTarget():GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, target:GetTarget())\n    damage = damage - absorbed\n    target:EnterCombat(target:GetTarget())\n    target:GetTarget():EnterCombat(target)\n    target:OneHit(target:GetTarget(), damage)\n\nend\n','function skill_fire_storm_apply(caster, room, affect)\n  target:Message(\"|WThe room is engulfed by a Fire Storm!|X\", MSG_ROOM, nil)\nend\n','function skill_fire_storm_tick(caster, room, affect)\n\nend\n','function skill_fire_storm_remove(caster, room, affect)\n\nend\n','function skill_fire_storm_cost(caster, target, skill)\n  return 1\nend\n'),(59,'Fiery Burst','fiery burst',0,'0;1;',5,'Inflicts 510 damage to all enemies in the room','none',1.5,'0;','skill_fiery_burst','function skill_fiery_burst_cast(caster, target, skill)\n  local damage = 510\n  caster:Send(\"|WYou cast Fiery Burst.|X\\r\\n\")\n  --caster:Message(\"|W\" .. caster:GetName() .. \" casts Fiery Burst.|X\", MSG_ROOM_NOTCHAR, nil)\n  for index, ch in pairs(caster:GetRoom().characters) do\n    if(caster:CanAttack(ch)) then\n      caster:EnterCombat(ch)\n      ch:EnterCombat(caster)\n      local absorbed = ch:HandleDamageAbsorb(damage)\n      caster:Send(\"|WYour Fiery Burst hits \" .. ch:GetName() .. \" for \" .. (damage - absorbed) .. \" damage\")\n      if(absorbed > 0) then\n        caster:Send(\" (\" .. absorbed .. \" absorbed)\")\n      end\n      caster:Send(\".|X\\r\\n\")\n      ch:Send(\"|W\" .. caster:GetName() .. \"\'s Fiery Burst hits you for \" .. (damage - absorbed) .. \" damage\")\n      if(absorbed > 0) then\n          ch:Send(\" (\" .. absorbed .. \" absorbed)\")\n      end\n      ch:Send(\".|X\\r\\n\")\n      caster:Message(\"|W\" .. caster:GetName() .. \"\'s Fiery Burst hits \" .. ch:GetName() .. \" for \" .. (damage - absorbed) .. \" damage.|X\", MSG_ROOM_NOTCHARVICT, ch)\n      caster:OneHit(ch, damage - absorbed)\n    end\n  end\nend\n','','','','function skill_fiery_burst_cost(caster, target, skill)\n  return 1\nend\n'),(60,'Power Word: Fortitude 6','Power Word: Fortitude',0,'',4,'Power infuses the target, increasing their Stamina by 54 for 30 min.','900 mana',0,'0;','skill_power_word_fortitude_6','function skill_power_word_fortitude_6_cast(caster, target, skill)\n  caster:ConsumeMana(900)\n  if(caster ~= target) then\n    caster:Send(\"|WYou cast Power Word: Fortitude on \" .. target:GetName() .. \".|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \" casts Power Word: Fortitude on you.|X\\n\\r\")\n  else\n    caster:Send(\"|WYou cast Power Word: Fortitude on yourself.|X\\n\\r\")\n  end\n  caster:Message(\"|W\" .. caster:GetName() .. \" casts Power Word: Fortitude on \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n  target:AddSpellAffect(SPELLAFFECT_BUFF, caster, \"Power Word: Fortitude\", SPELLAFFECT_VISIBLE, 1, 0, 1800, AFFECT_MAGIC, skill, \"Increases Stamina by 54\")\nend\n','function skill_power_word_fortitude_6_apply(caster, target, affect)\n  affect:ApplyAura(AURA_MODIFY_STAMINA, 54)\n  target:ResetMaxStats()\nend\n','','function skill_power_word_fortitude_6_remove(caster, target, affect)\n  if(affect:GetCasterName() == target:GetName()) then\n    target:Send(\"|WYour Power Word: Fortitude fades.|X\\n\\r\")\n  else\n    if(caster ~= nil) then\n      caster:Send(\"|WYour Power Word: Fortitude fades from \" .. target:GetName() .. \".|X\\n\\r\")\n    end\n    target:Send(\"|W\" .. affect:GetCasterName() .. \"\'s Power Word: Fortitude fades from you.|X\\n\\r\")\n  end\n  target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s Power Word: Fortitude fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\n  target:ResetMaxStats()\nend\n','function skill_power_word_fortitude_6_cost(caster, target, skill)\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 900)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n'),(61,'Arcane Intellect 5','Arcane Intellect',0,'',4,'Increases the target\'s Intellect and Wisdom by 31 for 30 min.','900 mana',0,'0;','skill_arcane_intellect_5','function skill_arcane_intellect_5_cast(caster, target, skill)\n  caster:ConsumeMana(900)\n  if(caster ~= target) then\n    caster:Send(\"|WYou cast Arcane Intellect on \" .. target:GetName() .. \".|X\\n\\r\")\n    target:Send(\"|W\" .. caster:GetName() .. \" casts Arcane Intellect on you.|X\\n\\r\")\n  else\n    caster:Send(\"|WYou cast Arcane Intellect on yourself.|X\\n\\r\")\n  end\n  caster:Message(\"|W\" .. caster:GetName() .. \" casts Arcane Intellect on \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, target)\n  target:AddSpellAffect(SPELLAFFECT_BUFF, caster, \"Arcane Intellect\", SPELLAFFECT_VISIBLE, 1, 0, 1800, AFFECT_MAGIC, skill, \"Increases Wisdom and Intellect by 31\")\nend\n','function skill_arcane_intellect_5_apply(caster, target, affect)\n  affect:ApplyAura(AURA_MODIFY_WISDOM, 31)\n  affect:ApplyAura(AURA_MODIFY_INTELLECT, 31)\n  target:ResetMaxStats()\nend\n','','function skill_arcane_intellect_5_remove(caster, target, affect)\n  if(affect:GetCasterName() == target:GetName()) then\n    target:Send(\"|WYour Arcane Intellect fades.|X\\n\\r\")\n  else\n    if(caster ~= nil) then\n      caster:Send(\"|WYour Arcane Intellect fades from \" .. target:GetName() .. \".|X\\n\\r\")\n    end\n    target:Send(\"|W\" .. affect:GetCasterName() .. \"\'s Arcane Intellect fades from you.|X\\n\\r\")\n  end\n  target:Message(\"|W\" .. affect:GetCasterName() .. \"\'s Arcane Intellect fades from \" .. target:GetName() .. \".|X\", MSG_ROOM_NOTCHARVICT, caster)\n  target:ResetMaxStats()\nend\n','function skill_arcane_intellect_5_cost(caster, target, skill)\n  if(not caster:GetCharacterAdjacentRoom(target)) then\n    caster:Send(\"That target is out of range.\\n\\r\")\n    return 0\n  end\n  if(not caster:HasResource(RESOURCE_MANA, 900)) then\n    caster:Send(\"You don\'t have enough mana.\\n\\r\")\n    return 0\n  end\n  return 1\nend\n');
/*!40000 ALTER TABLE `skills` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `triggers`
--

DROP TABLE IF EXISTS `triggers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `triggers` (
  `parent_id` int(11) NOT NULL,
  `id` int(11) NOT NULL,
  `parent_type` int(11) NOT NULL,
  `type` int(11) DEFAULT NULL,
  `argument` varchar(45) DEFAULT NULL,
  `script` text,
  `function` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`parent_id`,`id`,`parent_type`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `triggers`
--

LOCK TABLES `triggers` WRITE;
/*!40000 ALTER TABLE `triggers` DISABLE KEYS */;
INSERT INTO `triggers` VALUES (28,1,1,7,'15','function trigger_npc_28_fiery_burst(ch)\r\n  ch:Cast(\"59\")\r\nend\r\n','trigger_npc_28_fiery_burst'),(28,2,1,7,'20','function trigger_npc_28_fire_storm(ch)\r\n  --traverse threat list and save players who ( aren\'t highest threat AND are in adjacent room ) into array\r\n  local threatnum = 1\r\n  local arrayindex = 1\r\n  local threatlist = {}\r\n  local possible_target = ch:GetNthHighestThreatData(threatnum)\r\n  while (possible_target ~= nil) do\r\n    if (possible_target.ch ~= ch:GetTarget() and ch:GetCharacterAdjacentRoom(possible_target.ch) and (not ch:GetCharacterRoom(possible_target.ch))) then\r\n        threatlist[arrayindex] = possible_target.ch\r\n        arrayindex = arrayindex + 1\r\n    end\r\n    threatnum = threatnum + 1\r\n    possible_target = ch:GetNthHighestThreatData(threatnum)\r\n  end\r\n  \r\n  if(arrayindex <= 1) then --no possible targets\r\n    return\r\n  end\r\n\r\n  --find the size of this list and pick a random #\r\n  local target_index = math.random(1, arrayindex - 1)\r\n\r\n  ch:CastByID(58, threatlist[target_index])\r\nend\r\n','trigger_npc_28_fire_storm'),(33,1,1,7,'30','function trigger_npc_33_summon_spawn(ch)\r\n  local ctr = 0\r\n  for index, room_ch in pairs(ch:GetRoom().characters) do\r\n    if(room_ch:IsNPC() and room_ch:IsAlive() and room_ch:GetName() == \"Spawn of Bael\'Gar\") then\r\n      ctr = ctr + 1\r\n    end\r\n  end\r\n  if(ctr < 5) then\r\n    ch:Cast(\"53\")\r\n  end\r\nend\r\n','trigger_npc_33_summon_spawn'),(33,2,1,7,'3','function trigger_npc_33_magma_splash(ch)\r\n  ch:Cast(\"54\")\r\nend\r\n','trigger_npc_33_magma_splash');
/*!40000 ALTER TABLE `triggers` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2019-05-21  0:29:28
